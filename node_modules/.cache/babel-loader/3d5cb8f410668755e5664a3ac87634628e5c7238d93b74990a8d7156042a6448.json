{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nongu\\\\Documents\\\\Projects\\\\dhis2-user-manager\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport { FiUpload, FiDownload, FiPlay, FiSquare, FiSun, FiMoon, FiHelpCircle, FiUsers } from 'react-icons/fi';\nimport { Tooltip } from 'react-tooltip';\nimport { List } from 'react-virtualized';\nimport { convertCSVtoJSON } from './convertCSVtoJSON';\n\n// Configure axios defaults\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\naxios.defaults.timeout = 30000; // 30 second timeout\naxios.defaults.maxContentLength = 50 * 1024 * 1024; // 50MB\naxios.defaults.maxBodyLength = 50 * 1024 * 1024; // 50MB\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': `ApiToken ${process.env.REACT_APP_API_TOKEN}`\n};\n\n// Sample user data for download\nconst SAMPLE_USERS = [{\n  firstName: \"PVT\",\n  surname: \"Royal\",\n  username: 12020407,\n  password: \"Egor123@\",\n  userRoles: [{\n    id: \"KBkjSGFKSKI\"\n  }, {\n    id: \"oO6BBApzmHZ\"\n  }],\n  organisationUnits: [{\n    id: \"wRQIw3NMW29\"\n  }],\n  dataViewOrganisationUnits: [{\n    id: \"wRQIw3NMW29\"\n  }],\n  teiSearchOrganisationUnits: [{\n    id: \"wRQIw3NMW29\"\n  }],\n  userGroups: [{\n    id: \"U8WuGyxfFFp\"\n  }]\n}, {\n  firstName: \"PVT\",\n  surname: \"Dominion\",\n  username: 12020409,\n  password: \"Egor123@\",\n  userRoles: [{\n    id: \"KBkjSGFKSKI\"\n  }, {\n    id: \"oO6BBApzmHZ\"\n  }],\n  organisationUnits: [{\n    id: \"AVEyJypVCjJ\"\n  }],\n  dataViewOrganisationUnits: [{\n    id: \"AVEyJypVCjJ\"\n  }],\n  teiSearchOrganisationUnits: [{\n    id: \"AVEyJypVCjJ\"\n  }],\n  userGroups: [{\n    id: \"U8WuGyxfFFp\"\n  }]\n}];\nfunction App() {\n  _s();\n  // State declarations\n  const [users, setUsers] = useState([]);\n  const [log, setLog] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportProgress, setExportProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeTab, setActiveTab] = useState('import');\n  const [batchSize, setBatchSize] = useState(2);\n  const [connectionStatus, setConnectionStatus] = useState('checking...');\n  const [selectedColumns, setSelectedColumns] = useState(['id', 'name', 'username', 'userGroups', 'userRoles', 'lastLogin', 'schoolPath']);\n  const [showHelp, setShowHelp] = useState(false);\n  const [fileName, setFileName] = useState('');\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'asc'\n  });\n  const shouldStop = useRef(false);\n  const logEndRef = useRef(null);\n  const usersPerPage = 100;\n  const availableColumns = [{\n    id: 'id',\n    label: 'ID'\n  }, {\n    id: 'name',\n    label: 'Name'\n  }, {\n    id: 'username',\n    label: 'Username'\n  }, {\n    id: 'userGroups',\n    label: 'Groups'\n  }, {\n    id: 'userRoles',\n    label: 'Roles'\n  }, {\n    id: 'lastLogin',\n    label: 'Last Login'\n  }, {\n    id: 'schoolPath',\n    label: 'School Path'\n  }, {\n    id: 'schoolUID',\n    label: 'School UID'\n  }];\n\n  // Append log with size limit\n  const appendLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLog(prevLog => {\n      const newLog = [...prevLog, {\n        message,\n        type,\n        timestamp\n      }];\n      return newLog.slice(-100); // Keep last 100 entries\n    });\n  };\n\n  // Enhanced API request with retries\n  const apiRequest = useCallback(async (config, attempt = 1) => {\n    const maxRetries = 3;\n    const baseDelay = 1000;\n    try {\n      const response = await axios({\n        ...config,\n        timeout: 30000,\n        headers: {\n          ...HEADERS,\n          ...config.headers\n        }\n      });\n      return response;\n    } catch (error) {\n      if (attempt >= maxRetries) throw error;\n      const retryDelay = baseDelay * Math.pow(2, attempt - 1);\n      appendLog(`⚠️ Attempt ${attempt} failed, retrying in ${retryDelay / 1000}s...`, 'warning');\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n      return apiRequest(config, attempt + 1);\n    }\n  }, [appendLog]);\n\n  // Connection monitoring with retry\n  useEffect(() => {\n    let retries = 0;\n    const maxRetries = 3;\n    const checkConnection = async () => {\n      try {\n        await apiRequest({\n          method: 'get',\n          url: `${BASE_URL}/system/ping`\n        });\n        setConnectionStatus('connected');\n        retries = 0;\n      } catch {\n        retries++;\n        if (retries >= maxRetries) {\n          setConnectionStatus('disconnected');\n          appendLog('⚠️ Failed to connect to server after retries', 'warning');\n        } else {\n          setTimeout(checkConnection, 1000 * Math.pow(2, retries));\n        }\n      }\n    };\n    checkConnection();\n    const interval = setInterval(checkConnection, 30000);\n    return () => clearInterval(interval);\n  }, [apiRequest]);\n\n  // Auto-scroll log to bottom\n  useEffect(() => {\n    var _logEndRef$current;\n    (_logEndRef$current = logEndRef.current) === null || _logEndRef$current === void 0 ? void 0 : _logEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [log]);\n\n  // Keyboard shortcut for import\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.ctrlKey && e.key === 'i' && !processing && users.length > 0 && connectionStatus === 'connected') {\n        confirmImport();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [processing, users.length, connectionStatus]);\n\n  // File upload handler with drag-and-drop\n  const handleFileUpload = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    setFileName(file.name);\n    const reader = new FileReader();\n    reader.onloadstart = () => appendLog('⏳ Loading user file...', 'info');\n    reader.onload = event => {\n      try {\n        if (file.name.endsWith('.csv')) {\n          const convertedUsers = convertCSVtoJSON(event.target.result);\n          if (convertedUsers) {\n            setUsers(convertedUsers);\n            appendLog(`✅ Loaded and converted ${convertedUsers.length} users from CSV`, 'success');\n          }\n        } else {\n          const data = JSON.parse(event.target.result);\n          if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n          setUsers(data);\n          appendLog(`✅ Loaded ${data.length} users from JSON`, 'success');\n        }\n      } catch (error) {\n        appendLog(`❌ Error parsing file: ${error.message}`, 'error');\n      }\n    };\n    reader.onerror = () => appendLog('❌ Failed to read file', 'error');\n    reader.readAsText(file);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.currentTarget.classList.add('border-dashed', 'border-primary');\n  };\n  const handleDragLeave = e => {\n    e.currentTarget.classList.remove('border-dashed', 'border-primary');\n  };\n  const handleDrop = e => {\n    var _e$dataTransfer$files;\n    e.preventDefault();\n    e.currentTarget.classList.remove('border-dashed', 'border-primary');\n    const file = (_e$dataTransfer$files = e.dataTransfer.files) === null || _e$dataTransfer$files === void 0 ? void 0 : _e$dataTransfer$files[0];\n    if (file) {\n      setFileName(file.name);\n      const reader = new FileReader();\n      reader.onloadstart = () => appendLog('⏳ Loading user file...', 'info');\n      reader.onload = event => {\n        try {\n          if (file.name.endsWith('.csv')) {\n            const convertedUsers = convertCSVtoJSON(event.target.result);\n            if (convertedUsers) {\n              setUsers(convertedUsers);\n              appendLog(`✅ Loaded and converted ${convertedUsers.length} users from CSV`, 'success');\n            }\n          } else {\n            const data = JSON.parse(event.target.result);\n            if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n            setUsers(data);\n            appendLog(`✅ Loaded ${data.length} users from JSON`, 'success');\n          }\n        } catch (error) {\n          appendLog(`❌ Error parsing file: ${error.message}`, 'error');\n        }\n      };\n      reader.onerror = () => appendLog('❌ Failed to read file', 'error');\n      reader.readAsText(file);\n    }\n  };\n\n  // Reusable download function\n  const downloadFile = (content, filename, mimeType) => {\n    try {\n      const blob = new Blob([content], {\n        type: mimeType\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog(`✅ Downloaded ${filename}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Download failed: ${error.message}`, 'error');\n    }\n  };\n\n  // Sample JSON download\n  const downloadSampleJson = () => {\n    downloadFile(JSON.stringify(SAMPLE_USERS, null, 2), 'dhis2_users_sample.json', 'application/json');\n  };\n\n  // Sample CSV download\n  const downloadSampleCSV = () => {\n    const headers = ['firstName', 'surname', 'username', 'password', 'userRoles', 'organisationUnits', 'dataViewOrganisationUnits', 'teiSearchOrganisationUnits', 'userGroups'].join(',');\n    const sampleRow = ['JSS', 'Com', '11010051', 'Abakaliki123@', '[{\"id\": \"KBkjSGFKSKI\"},{\"id\": \"oO6BBApzmHZ\"}]', '[{\"id\": \"wMcSLrAHchs\"}]', '[{\"id\": \"wMcSLrAHchs\"}]', '[{\"id\": \"wMcSLrAHchs\"}]', '[{\"id\": \"Ca67o1mgiPn\"}]'].map(field => `\"${field}\"`).join(',');\n    const csvContent = [headers, sampleRow].join('\\n');\n    downloadFile(csvContent, 'dhis2_users_template.csv', 'text/csv;charset=utf-8;');\n  };\n\n  // User validation\n  const validateUser = user => {\n    var _user$userRoles, _user$organisationUni;\n    if (!user.username) return 'Username is required';\n    if (!((_user$userRoles = user.userRoles) !== null && _user$userRoles !== void 0 && _user$userRoles.length)) return 'At least one user role is required';\n    if (!((_user$organisationUni = user.organisationUnits) !== null && _user$organisationUni !== void 0 && _user$organisationUni.length)) return 'At least one organization unit is required';\n    return null;\n  };\n\n  // User management functions\n  const getUserId = async username => {\n    try {\n      var _res$data$users, _res$data$users$;\n      const res = await apiRequest({\n        method: 'get',\n        url: `${BASE_URL}/users?filter=username:eq:${username}&fields=id`\n      });\n      return ((_res$data$users = res.data.users) === null || _res$data$users === void 0 ? void 0 : (_res$data$users$ = _res$data$users[0]) === null || _res$data$users$ === void 0 ? void 0 : _res$data$users$.id) || null;\n    } catch (error) {\n      appendLog(`⚠️ Error fetching user ID for ${username}: ${error.message}`, 'warning');\n      return null;\n    }\n  };\n  const updateUser = async (user, id) => {\n    try {\n      const payload = {\n        firstName: user.firstName,\n        surname: user.surname,\n        username: user.username,\n        userRoles: user.userRoles.map(role => ({\n          id: role.id\n        })),\n        organisationUnits: user.organisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        dataViewOrganisationUnits: user.dataViewOrganisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        teiSearchOrganisationUnits: user.teiSearchOrganisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        userGroups: user.userGroups.map(group => ({\n          id: group.id\n        }))\n      };\n      await apiRequest({\n        method: 'put',\n        url: `${BASE_URL}/users/${id}`,\n        data: payload\n      });\n      appendLog(`🔄 Updated user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      appendLog(`❌ Error updating user ${user.username}: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message}`, 'error');\n      return false;\n    }\n  };\n  const createUser = async user => {\n    try {\n      await apiRequest({\n        method: 'post',\n        url: `${BASE_URL}/users`,\n        data: user\n      });\n      appendLog(`🆕 Created user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      var _error$response2;\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 409) {\n        const id = await getUserId(user.username);\n        if (id) {\n          appendLog(`⚠️ Conflict: Updating user ${user.username}`, 'warning');\n          return await updateUser(user, id);\n        } else {\n          appendLog(`❌ Conflict and ID not found: ${user.username}`, 'error');\n          return false;\n        }\n      }\n      appendLog(`❌ Error for ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n\n  // Process batch with parallel execution\n  const processBatch = async batch => {\n    const promises = batch.map(async user => {\n      try {\n        const id = await getUserId(user.username);\n        return id ? await updateUser(user, id) : await createUser(user);\n      } catch (error) {\n        appendLog(`❌ Failed to process ${user.username}: ${error.message}`, 'error');\n        return false;\n      }\n    });\n    return Promise.all(promises);\n  };\n\n  // Process users with validation\n  const confirmImport = () => {\n    if (window.confirm(`Are you sure you want to import ${users.length} users?`)) {\n      processUsers();\n    }\n  };\n  const processUsers = async () => {\n    const invalidUsers = users.filter(user => validateUser(user));\n    if (invalidUsers.length) {\n      appendLog(`⚠️ Invalid users detected: ${invalidUsers.length}`, 'warning');\n      return;\n    }\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    let successCount = 0;\n    let errorCount = 0;\n    const totalBatches = Math.ceil(users.length / batchSize);\n    appendLog(`🚀 Starting import of ${users.length} users (${totalBatches} batches)`, 'info');\n    for (let i = 0; i < users.length && !shouldStop.current; i += batchSize) {\n      const batch = users.slice(i, i + batchSize);\n      appendLog(`🔨 Processing batch ${Math.floor(i / batchSize) + 1}/${totalBatches}`, 'info');\n      const batchResults = await processBatch(batch);\n      successCount += batchResults.filter(Boolean).length;\n      errorCount += batchResults.filter(x => !x).length;\n      setProgress(Math.round((i + batchSize) / users.length * 100));\n      if (shouldStop.current) break;\n    }\n    appendLog(`🎉 Process ${shouldStop.current ? 'stopped' : 'completed'}. Success: ${successCount}, Errors: ${errorCount}`, errorCount > 0 ? 'warning' : 'success');\n    setProcessing(false);\n  };\n  const stopProcessing = () => {\n    shouldStop.current = true;\n    appendLog(\"⏹ Stopping process after current batch completes...\", 'warning');\n  };\n\n  // Export functions\n  const exportUsersToCSV = async () => {\n    appendLog(\"📦 Starting DHIS2 user export...\", 'info');\n    setProcessing(true);\n    setExportProgress(0);\n    try {\n      let seenIds = new Set();\n      let usersList = [];\n      let nextUrl = `${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=1000`;\n      let pageCount = 0;\n      while (nextUrl) {\n        const response = await apiRequest({\n          method: 'get',\n          url: nextUrl\n        });\n        if (response.status !== 200) break;\n        const data = response.data;\n        const users = data.users || [];\n        const pager = data.pager || {};\n        pageCount++;\n        setExportProgress(pageCount / (pager.totalPages || 1) * 100);\n        for (const user of users) {\n          var _user$userGroups, _user$userRoles2;\n          const uid = user.id;\n          if (!uid || seenIds.has(uid)) continue;\n          seenIds.add(uid);\n          const userGroups = ((_user$userGroups = user.userGroups) === null || _user$userGroups === void 0 ? void 0 : _user$userGroups.map(g => g.name).join(\"; \")) || \"\";\n          const userRoles = ((_user$userRoles2 = user.userRoles) === null || _user$userRoles2 === void 0 ? void 0 : _user$userRoles2.map(r => r.name).join(\"; \")) || \"\";\n          const lastLogin = user.lastLogin || \"\";\n          let schoolPaths = [];\n          let schoolUIDs = [];\n          (user.organisationUnits || []).forEach(ou => {\n            var _ou$ancestors;\n            if (((_ou$ancestors = ou.ancestors) === null || _ou$ancestors === void 0 ? void 0 : _ou$ancestors.length) === 4) {\n              const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n              schoolPaths.push(path);\n              schoolUIDs.push(ou.id || \"\");\n            }\n          });\n          usersList.push({\n            id: uid,\n            name: user.name || '',\n            username: user.username || '',\n            userGroups,\n            userRoles,\n            lastLogin,\n            schoolPath: schoolPaths.join(\" | \"),\n            schoolUID: schoolUIDs.join(\" | \")\n          });\n        }\n        appendLog(`✅ Page ${pager.page} fetched. Total: ${seenIds.size}`, 'success');\n        nextUrl = pager.nextPage || null;\n      }\n      setExportedUsers(usersList);\n      appendLog(`🎉 Export complete. Total users: ${seenIds.size}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Export failed: ${error.message}`, 'error');\n    } finally {\n      setProcessing(false);\n      setExportProgress(0);\n    }\n  };\n  const exportFilteredUsers = (format = 'csv') => {\n    const filtered = filteredUsers;\n    if (filtered.length === 0) {\n      appendLog('⚠️ No users match your filters', 'warning');\n      return;\n    }\n    try {\n      let content, mimeType, extension;\n      if (format === 'csv') {\n        const headers = availableColumns.filter(col => selectedColumns.includes(col.id)).map(col => col.label);\n        const rows = filtered.map(user => selectedColumns.map(col => {\n          const value = user[col] || '';\n          return value.includes(',') ? `\"${value}\"` : value;\n        }).join(','));\n        content = [headers.join(','), ...rows].join('\\n');\n        mimeType = 'text/csv;charset=utf-8;';\n        extension = 'csv';\n      } else {\n        content = JSON.stringify(filtered, null, 2);\n        mimeType = 'application/json';\n        extension = 'json';\n      }\n      downloadFile(content, `dhis2_users_${new Date().toISOString().slice(0, 10)}.${extension}`, mimeType);\n    } catch (error) {\n      appendLog(`❌ Export error: ${error.message}`, 'error');\n    }\n  };\n\n  // UI helpers\n  const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');\n  const filteredUsers = useMemo(() => {\n    return exportedUsers.filter(user => user.username.toLowerCase().includes(usernameFilter.toLowerCase()) && user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase()));\n  }, [exportedUsers, usernameFilter, orgUnitFilter]);\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n  const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\n  const handlePrevPage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\n  const toggleColumn = columnId => {\n    setSelectedColumns(prev => prev.includes(columnId) ? prev.filter(id => id !== columnId) : [...prev, columnId]);\n  };\n  const sortTable = key => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n    const sortedUsers = [...exportedUsers].sort((a, b) => {\n      if (a[key] < b[key]) return direction === 'asc' ? -1 : 1;\n      if (a[key] > b[key]) return direction === 'asc' ? 1 : -1;\n      return 0;\n    });\n    setExportedUsers(sortedUsers);\n  };\n  const getLogColor = type => {\n    switch (type) {\n      case 'error':\n        return 'text-error';\n      case 'warning':\n        return 'text-warning';\n      case 'success':\n        return 'text-success';\n      default:\n        return 'text-gray-300';\n    }\n  };\n  const rowHeight = 60;\n  const listHeight = 400;\n  const renderRow = ({\n    index,\n    key,\n    style\n  }) => {\n    const user = currentUsers[index];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style,\n      className: `flex items-center border-b ${index % 2 === 0 ? theme === 'dark' ? 'bg-dark-card' : 'bg-light-card' : theme === 'dark' ? 'bg-gray-800' : 'bg-gray-50'}`,\n      children: selectedColumns.map(col => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 sm:p-4 border-r text-sm sm:text-base break-words\",\n        style: {\n          minWidth: col === 'schoolPath' || col === 'schoolUID' ? '200px' : '100px',\n          display: 'table-cell' // Match header display\n        },\n        children: user[col]\n      }, col, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 11\n      }, this))\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen p-4 ${theme === 'dark' ? 'bg-dark-bg text-dark-text' : 'bg-light-bg text-light-text'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto rounded-2xl shadow-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-6 ${theme === 'dark' ? 'bg-dark-card' : 'bg-primary'} text-white`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(FiUsers, {\n              className: \"text-2xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: \"DHIS2 User Manager\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleTheme,\n              className: \"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition-all duration-200 transform hover:scale-105\",\n              \"data-tooltip-id\": \"theme-tooltip\",\n              \"data-tooltip-content\": `Switch to ${theme === 'light' ? 'dark' : 'light'} mode`,\n              \"aria-label\": `Switch to ${theme === 'light' ? 'dark' : 'light'} mode`,\n              children: [theme === 'light' ? /*#__PURE__*/_jsxDEV(FiMoon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(FiSun, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [theme === 'light' ? 'Dark' : 'Light', \" Mode\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              id: \"theme-tooltip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowHelp(true),\n              className: \"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition-all duration-200 transform hover:scale-105\",\n              \"data-tooltip-id\": \"help-tooltip\",\n              \"data-tooltip-content\": \"Open help documentation\",\n              \"aria-label\": \"Open help\",\n              children: [/*#__PURE__*/_jsxDEV(FiHelpCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              id: \"help-tooltip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-6 ${theme === 'dark' ? 'bg-dark-card' : 'bg-light-card'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-2 rounded-md bg-blue-50 border border-blue-200 dark:bg-gray-800 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium mr-2\",\n              children: \"Server Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `inline-block w-3 h-3 rounded-full mr-2 ${connectionStatus === 'connected' ? 'bg-success' : 'bg-error'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: connectionStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 13\n          }, this), connectionStatus === 'disconnected' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-error\",\n            children: \"Connection issues detected. Some operations may fail.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-6 py-3 font-semibold flex items-center text-lg ${activeTab === 'import' ? theme === 'dark' ? 'text-blue-300 border-b-4 border-blue-300' : 'text-primary border-b-4 border-primary' : theme === 'dark' ? 'text-dark-text' : 'text-light-text'}`,\n            onClick: () => setActiveTab('import'),\n            \"data-tooltip-id\": \"import-tooltip\",\n            \"data-tooltip-content\": \"Import users from JSON or CSV files\",\n            \"aria-selected\": activeTab === 'import',\n            children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 15\n            }, this), \"Import Users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"import-tooltip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-6 py-3 font-semibold flex items-center text-lg ${activeTab === 'export' ? theme === 'dark' ? 'text-blue-300 border-b-4 border-blue-300' : 'text-primary border-b-4 border-primary' : theme === 'dark' ? 'text-dark-text' : 'text-light-text'}`,\n            onClick: () => setActiveTab('export'),\n            \"data-tooltip-id\": \"export-tooltip\",\n            \"data-tooltip-content\": \"Export users from DHIS2 server\",\n            \"aria-selected\": activeTab === 'export',\n            children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this), \"Export Users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"export-tooltip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this), activeTab === 'import' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Import Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-[300px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2 font-medium\",\n                  htmlFor: \"file-upload\",\n                  children: \"Upload File\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"file-upload-desc\",\n                  className: \"text-sm text-gray-500 dark:text-gray-400 mb-1\",\n                  children: \"Upload a JSON or CSV file containing user data.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onDragOver: handleDragOver,\n                  onDragLeave: handleDragLeave,\n                  onDrop: handleDrop,\n                  className: `flex-1 border rounded-lg p-4 cursor-pointer flex items-center ${theme === 'dark' ? 'border-gray-600 bg-gray-900 hover:bg-gray-800' : 'border-gray-300 bg-white hover:bg-gray-50'} transition-all duration-200`,\n                  children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 717,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: fileName || 'Choose File or Drag & Drop'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"file-upload\",\n                    type: \"file\",\n                    accept: \".json,.csv\",\n                    onChange: handleFileUpload,\n                    disabled: processing,\n                    className: \"hidden\",\n                    \"aria-label\": \"Upload JSON or CSV file\",\n                    \"aria-describedby\": \"file-upload-desc\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 719,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 21\n                }, this), users.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2 text-sm text-success\",\n                  children: [\"\\u2705 \", users.length, \" users loaded\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-[300px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2 font-medium\",\n                  htmlFor: \"batch-size\",\n                  children: \"Batch Settings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"batch-size\",\n                  value: batchSize,\n                  onChange: e => setBatchSize(Number(e.target.value)),\n                  className: `w-full border rounded-lg p-2 ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                  \"aria-label\": \"Select batch size for user import\",\n                  children: [1, 2, 5, 10].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: [size, \" users/batch\"]\n                  }, size, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (users.length > 0) {\n                    downloadFile(JSON.stringify(users, null, 2), 'converted_users.json', 'application/json');\n                  } else {\n                    appendLog('⚠️ No users loaded to convert', 'warning');\n                  }\n                },\n                className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'} text-white`,\n                \"data-tooltip-id\": \"convert-tooltip\",\n                \"data-tooltip-content\": \"Convert loaded users to JSON\",\n                \"aria-label\": \"Convert loaded users to JSON\",\n                children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 770,\n                  columnNumber: 21\n                }, this), \"Convert to JSON\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"convert-tooltip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: downloadSampleJson,\n                className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'} text-white`,\n                \"data-tooltip-id\": \"json-sample-tooltip\",\n                \"data-tooltip-content\": \"Download JSON sample\",\n                \"aria-label\": \"Download JSON sample\",\n                children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 783,\n                  columnNumber: 21\n                }, this), \"JSON\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"json-sample-tooltip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 786,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: downloadSampleCSV,\n                className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'} text-white`,\n                \"data-tooltip-id\": \"csv-template-tooltip\",\n                \"data-tooltip-content\": \"Download CSV template\",\n                \"aria-label\": \"Download CSV template\",\n                children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 21\n                }, this), \"CSV\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"csv-template-tooltip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: confirmImport,\n              disabled: processing || users.length === 0 || connectionStatus !== 'connected',\n              className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${processing || users.length === 0 || connectionStatus !== 'connected' ? 'bg-secondary cursor-not-allowed opacity-50' : 'bg-primary hover:bg-primary/90 text-white'}`,\n              \"data-tooltip-id\": \"start-import-tooltip\",\n              \"data-tooltip-content\": \"Start importing users\",\n              \"aria-label\": \"Start user import\",\n              children: [/*#__PURE__*/_jsxDEV(FiPlay, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 19\n              }, this), \"Start Import\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              id: \"start-import-tooltip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: stopProcessing,\n              disabled: !processing,\n              className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${!processing ? 'bg-secondary cursor-not-allowed opacity-50' : 'bg-error hover:bg-error/90 text-white'}`,\n              \"data-tooltip-id\": \"stop-import-tooltip\",\n              \"data-tooltip-content\": \"Stop user import\",\n              \"aria-label\": \"Stop user import\",\n              children: [/*#__PURE__*/_jsxDEV(FiSquare, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 19\n              }, this), \"Stop\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              id: \"stop-import-tooltip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 15\n          }, this), processing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-4 overflow-hidden dark:bg-gray-700 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-primary h-4 transition-all duration-300 dark:bg-blue-400\",\n              style: {\n                width: `${progress}%`\n              },\n              role: \"progressbar\",\n              \"aria-valuenow\": progress,\n              \"aria-valuemin\": 0,\n              \"aria-valuemax\": 100\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white\",\n              children: [progress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: \"Activity Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-60 overflow-y-auto p-3 rounded ${theme === 'dark' ? 'bg-black' : 'bg-gray-200'}`,\n              role: \"log\",\n              \"aria-live\": \"polite\",\n              children: log.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-center ${theme === 'dark' ? 'text-gray-500' : 'text-gray-600'}`,\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-sm space-y-2\",\n                children: [log.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex items-center ${getLogColor(entry.type)} border-l-4 pl-3 py-1 ${entry.type === 'error' ? 'border-error' : entry.type === 'warning' ? 'border-warning' : entry.type === 'success' ? 'border-success' : 'border-secondary'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70 mr-2\",\n                    children: [\"[\", entry.timestamp, \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 881,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [entry.type === 'success' && '✅ ', entry.type === 'error' && '❌ ', entry.type === 'warning' && '⚠️ ', entry.message]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 882,\n                    columnNumber: 27\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 873,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: logEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 13\n        }, this), activeTab === 'export' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Export Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportUsersToCSV,\n              disabled: processing,\n              className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${processing ? 'bg-secondary cursor-not-allowed opacity-50' : 'bg-primary hover:bg-primary/90 text-white'}`,\n              \"data-tooltip-id\": \"fetch-users-tooltip\",\n              \"data-tooltip-content\": \"Fetch users from DHIS2\",\n              \"aria-label\": \"Fetch users from DHIS2\",\n              children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 915,\n                columnNumber: 19\n              }, this), \"Fetch Users from DHIS2\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              id: \"fetch-users-tooltip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 15\n          }, this), processing && activeTab === 'export' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-4 overflow-hidden dark:bg-gray-700 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-primary h-4 transition-all duration-300 dark:bg-blue-400\",\n              style: {\n                width: `${exportProgress}%`\n              },\n              role: \"progressbar\",\n              \"aria-valuenow\": exportProgress,\n              \"aria-valuemin\": 0,\n              \"aria-valuemax\": 100\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white\",\n              children: [Math.round(exportProgress), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 17\n          }, this), exportedUsers.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"md:hidden mb-4 px-4 py-2 bg-primary text-white rounded-lg transition-all duration-200 transform hover:scale-105\",\n                onClick: () => setIsFilterOpen(!isFilterOpen),\n                \"data-tooltip-id\": \"toggle-filters-tooltip\",\n                \"data-tooltip-content\": isFilterOpen ? 'Hide filters' : 'Show filters',\n                \"aria-label\": \"Toggle filters\",\n                children: isFilterOpen ? 'Hide Filters' : 'Show Filters'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"toggle-filters-tooltip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${isFilterOpen ? 'block' : 'hidden'} md:block`,\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium mb-3\",\n                  children: \"Filter & Export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 951,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block mb-1\",\n                      htmlFor: \"username-filter\",\n                      children: \"Username\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 954,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"username-filter\",\n                      type: \"text\",\n                      placeholder: \"Filter by username\",\n                      value: usernameFilter,\n                      onChange: e => setUsernameFilter(e.target.value),\n                      className: `w-full p-2 rounded border ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                      \"aria-label\": \"Filter users by username\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 955,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-1 text-sm text-gray-500\",\n                      children: [filteredUsers.length, \" users match your filters\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 966,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block mb-1\",\n                      htmlFor: \"orgunit-filter\",\n                      children: \"Organization Unit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 971,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"orgunit-filter\",\n                      type: \"text\",\n                      placeholder: \"Filter by org unit path\",\n                      value: orgUnitFilter,\n                      onChange: e => setOrgUnitFilter(e.target.value),\n                      className: `w-full p-2 rounded border ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                      \"aria-label\": \"Filter users by organization unit path\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 972,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 970,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block mb-2\",\n                    children: \"Columns to Export\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 987,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-2\",\n                    children: availableColumns.map(col => /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"flex items-center space-x-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: selectedColumns.includes(col.id),\n                        onChange: () => toggleColumn(col.id),\n                        className: \"rounded\",\n                        \"aria-label\": `Toggle ${col.label} column`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 991,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: col.label\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 998,\n                        columnNumber: 31\n                      }, this)]\n                    }, col.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 990,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 988,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 986,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setUsernameFilter('');\n                      setOrgUnitFilter('');\n                    },\n                    className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-secondary hover:bg-secondary/90' : 'bg-gray-200 hover:bg-gray-300'}`,\n                    \"data-tooltip-id\": \"clear-filters-tooltip\",\n                    \"data-tooltip-content\": \"Clear all filters\",\n                    \"aria-label\": \"Clear filters\",\n                    children: \"Clear Filters\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1005,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    id: \"clear-filters-tooltip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => exportFilteredUsers('csv'),\n                    className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-success hover:bg-success/90' : 'bg-success hover:bg-success/90'} text-white`,\n                    \"data-tooltip-id\": \"export-csv-tooltip\",\n                    \"data-tooltip-content\": \"Export filtered users as CSV\",\n                    \"aria-label\": \"Export filtered users as CSV\",\n                    children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1029,\n                      columnNumber: 27\n                    }, this), \"Export as CSV\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1020,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    id: \"export-csv-tooltip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => exportFilteredUsers('json'),\n                    className: `px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-600 hover:bg-yellow-500'} text-white`,\n                    \"data-tooltip-id\": \"export-json-tooltip\",\n                    \"data-tooltip-content\": \"Export filtered users as JSON\",\n                    \"aria-label\": \"Export filtered users as JSON\",\n                    children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1042,\n                      columnNumber: 27\n                    }, this), \"Export as JSON\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1033,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    id: \"export-json-tooltip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1045,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1004,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-3\",\n                children: [\"User Data (\", filteredUsers.length, \" users)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table-auto min-w-full border border-gray-400 dark:border-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: `${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-gray-300'}`,\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: selectedColumns.map(col => {\n                        var _availableColumns$fin;\n                        return /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"p-3 border border-gray-400 dark:border-gray-600 text-left text-sm font-semibold whitespace-normal break-words\",\n                          style: {\n                            minWidth: col === 'schoolPath' ? '400px' : '200px',\n                            maxWidth: col === 'schoolPath' ? '600px' : '300px'\n                          },\n                          onClick: () => sortTable(col),\n                          children: [(_availableColumns$fin = availableColumns.find(c => c.id === col)) === null || _availableColumns$fin === void 0 ? void 0 : _availableColumns$fin.label, sortConfig.key === col && /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: sortConfig.direction === 'asc' ? ' ↑' : ' ↓'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1070,\n                            columnNumber: 35\n                          }, this)]\n                        }, col, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1059,\n                          columnNumber: 31\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1057,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1056,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: currentUsers.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: `${index % 2 === 0 ? 'bg-white' : 'bg-gray-100'} dark:bg-gray-800`,\n                      children: selectedColumns.map(col => {\n                        var _user$col;\n                        return /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"p-3 border border-gray-400 dark:border-gray-600 text-sm align-top whitespace-pre-wrap break-words\",\n                          style: {\n                            minWidth: col === 'schoolPath' ? '300px' : '200px',\n                            maxWidth: col === 'schoolPath' ? '600px' : '400px'\n                          },\n                          children: String((_user$col = user[col]) !== null && _user$col !== void 0 ? _user$col : '')\n                        }, `${index}-${col}`, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1085,\n                          columnNumber: 33\n                        }, this);\n                      })\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1080,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1078,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1054,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 21\n              }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handlePrevPage,\n                  disabled: currentPage === 1,\n                  className: `px-4 py-2 rounded ${currentPage === 1 ? 'opacity-50 cursor-not-allowed' : theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'}`,\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1105,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Page \", currentPage, \" of \", totalPages]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1118,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleNextPage,\n                  disabled: currentPage === totalPages,\n                  className: `px-4 py-2 rounded ${currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'}`,\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1119,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1104,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1050,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: \"Activity Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-60 overflow-y-auto p-3 rounded ${theme === 'dark' ? 'bg-black' : 'bg-gray-200'}`,\n              role: \"log\",\n              \"aria-live\": \"polite\",\n              children: log.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-center ${theme === 'dark' ? 'text-gray-500' : 'text-gray-600'}`,\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1149,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-sm space-y-2\",\n                children: [log.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex items-center ${getLogColor(entry.type)} border-l-4 pl-3 py-1 ${entry.type === 'error' ? 'border-error' : entry.type === 'warning' ? 'border-warning' : entry.type === 'success' ? 'border-success' : 'border-secondary'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70 mr-2\",\n                    children: [\"[\", entry.timestamp, \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1165,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [entry.type === 'success' && '✅ ', entry.type === 'error' && '❌ ', entry.type === 'warning' && '⚠️ ', entry.message]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1166,\n                    columnNumber: 27\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1157,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: logEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1174,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1155,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1139,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 13\n        }, this), showHelp && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n          role: \"dialog\",\n          \"aria-labelledby\": \"help-title\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-6 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              id: \"help-title\",\n              className: \"text-lg font-bold mb-4\",\n              children: \"Help\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-4\",\n              children: [\"The DHIS2 User Manager allows you to import and export user data in JSON or CSV formats. Upload a file to import users, or fetch and filter users from the DHIS2 server for export. For more details, visit the \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"https://docs.dhis2.org\",\n                className: \"text-blue-600 hover:underline\",\n                children: \"DHIS2 documentation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1190,\n                columnNumber: 47\n              }, this), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowHelp(false),\n              className: `px-4 py-2 rounded transition-all duration-200 transform hover:scale-105 ${theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'} text-white`,\n              \"aria-label\": \"Close help modal\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1192,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1185,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 599,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"DyIL6NcwmgJaeBHcqqBCYhbfNPU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useMemo","axios","FiUpload","FiDownload","FiPlay","FiSquare","FiSun","FiMoon","FiHelpCircle","FiUsers","Tooltip","List","convertCSVtoJSON","jsxDEV","_jsxDEV","Fragment","_Fragment","defaults","timeout","maxContentLength","maxBodyLength","BASE_URL","process","env","REACT_APP_BASE_URL","HEADERS","REACT_APP_API_TOKEN","SAMPLE_USERS","firstName","surname","username","password","userRoles","id","organisationUnits","dataViewOrganisationUnits","teiSearchOrganisationUnits","userGroups","App","_s","users","setUsers","log","setLog","processing","setProcessing","progress","setProgress","exportProgress","setExportProgress","exportedUsers","setExportedUsers","usernameFilter","setUsernameFilter","orgUnitFilter","setOrgUnitFilter","theme","setTheme","currentPage","setCurrentPage","activeTab","setActiveTab","batchSize","setBatchSize","connectionStatus","setConnectionStatus","selectedColumns","setSelectedColumns","showHelp","setShowHelp","fileName","setFileName","isFilterOpen","setIsFilterOpen","sortConfig","setSortConfig","key","direction","shouldStop","logEndRef","usersPerPage","availableColumns","label","appendLog","message","type","timestamp","Date","toLocaleTimeString","prevLog","newLog","slice","apiRequest","config","attempt","maxRetries","baseDelay","response","headers","error","retryDelay","Math","pow","Promise","resolve","setTimeout","retries","checkConnection","method","url","interval","setInterval","clearInterval","_logEndRef$current","current","scrollIntoView","behavior","handleKeyDown","e","ctrlKey","length","confirmImport","window","addEventListener","removeEventListener","handleFileUpload","_e$target$files","file","target","files","name","reader","FileReader","onloadstart","onload","event","endsWith","convertedUsers","result","data","JSON","parse","Array","isArray","Error","onerror","readAsText","handleDragOver","preventDefault","currentTarget","classList","add","handleDragLeave","remove","handleDrop","_e$dataTransfer$files","dataTransfer","downloadFile","content","filename","mimeType","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","downloadSampleJson","stringify","downloadSampleCSV","join","sampleRow","map","field","csvContent","validateUser","user","_user$userRoles","_user$organisationUni","getUserId","_res$data$users","_res$data$users$","res","updateUser","payload","role","ou","group","_error$response","_error$response$data","createUser","_error$response2","status","processBatch","batch","promises","all","confirm","processUsers","invalidUsers","filter","successCount","errorCount","totalBatches","ceil","i","floor","batchResults","Boolean","x","round","stopProcessing","exportUsersToCSV","seenIds","Set","usersList","nextUrl","pageCount","pager","totalPages","_user$userGroups","_user$userRoles2","uid","has","g","r","lastLogin","schoolPaths","schoolUIDs","forEach","_ou$ancestors","ancestors","path","a","push","schoolPath","schoolUID","page","size","nextPage","exportFilteredUsers","format","filtered","filteredUsers","extension","col","includes","rows","value","toISOString","toggleTheme","toLowerCase","indexOfLastUser","indexOfFirstUser","currentUsers","handleNextPage","handlePrevPage","toggleColumn","columnId","prev","sortTable","sortedUsers","sort","b","getLogColor","rowHeight","listHeight","renderRow","index","style","className","children","minWidth","display","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","onDragOver","onDragLeave","onDrop","accept","onChange","disabled","Number","width","entry","ref","placeholder","checked","_availableColumns$fin","maxWidth","find","c","_user$col","String","_c","$RefreshReg$"],"sources":["C:/Users/nongu/Documents/Projects/dhis2-user-manager/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport { FiUpload, FiDownload, FiPlay, FiSquare, FiSun, FiMoon, FiHelpCircle, FiUsers } from 'react-icons/fi';\nimport { Tooltip } from 'react-tooltip';\nimport { List } from 'react-virtualized';\nimport { convertCSVtoJSON } from './convertCSVtoJSON';\n\n// Configure axios defaults\naxios.defaults.timeout = 30000; // 30 second timeout\naxios.defaults.maxContentLength = 50 * 1024 * 1024; // 50MB\naxios.defaults.maxBodyLength = 50 * 1024 * 1024; // 50MB\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': `ApiToken ${process.env.REACT_APP_API_TOKEN}`,\n};\n\n// Sample user data for download\nconst SAMPLE_USERS = [\n  {\n    firstName: \"PVT\",\n    surname: \"Royal\",\n    username: 12020407,\n    password: \"Egor123@\",\n    userRoles: [{ id: \"KBkjSGFKSKI\" }, { id: \"oO6BBApzmHZ\" }],\n    organisationUnits: [{ id: \"wRQIw3NMW29\" }],\n    dataViewOrganisationUnits: [{ id: \"wRQIw3NMW29\" }],\n    teiSearchOrganisationUnits: [{ id: \"wRQIw3NMW29\" }],\n    userGroups: [{ id: \"U8WuGyxfFFp\" }],\n  },\n  {\n    firstName: \"PVT\",\n    surname: \"Dominion\",\n    username: 12020409,\n    password: \"Egor123@\",\n    userRoles: [{ id: \"KBkjSGFKSKI\" }, { id: \"oO6BBApzmHZ\" }],\n    organisationUnits: [{ id: \"AVEyJypVCjJ\" }],\n    dataViewOrganisationUnits: [{ id: \"AVEyJypVCjJ\" }],\n    teiSearchOrganisationUnits: [{ id: \"AVEyJypVCjJ\" }],\n    userGroups: [{ id: \"U8WuGyxfFFp\" }],\n  },\n];\n\nfunction App() {\n  // State declarations\n  const [users, setUsers] = useState([]);\n  const [log, setLog] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportProgress, setExportProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeTab, setActiveTab] = useState('import');\n  const [batchSize, setBatchSize] = useState(2);\n  const [connectionStatus, setConnectionStatus] = useState('checking...');\n  const [selectedColumns, setSelectedColumns] = useState([\n    'id', 'name', 'username', 'userGroups', 'userRoles', 'lastLogin', 'schoolPath',\n  ]);\n  const [showHelp, setShowHelp] = useState(false);\n  const [fileName, setFileName] = useState('');\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\n\n  const shouldStop = useRef(false);\n  const logEndRef = useRef(null);\n\n  const usersPerPage = 100;\n  const availableColumns = [\n    { id: 'id', label: 'ID' },\n    { id: 'name', label: 'Name' },\n    { id: 'username', label: 'Username' },\n    { id: 'userGroups', label: 'Groups' },\n    { id: 'userRoles', label: 'Roles' },\n    { id: 'lastLogin', label: 'Last Login' },\n    { id: 'schoolPath', label: 'School Path' },\n    { id: 'schoolUID', label: 'School UID' },\n  ];\n\n  // Append log with size limit\n  const appendLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLog(prevLog => {\n      const newLog = [...prevLog, { message, type, timestamp }];\n      return newLog.slice(-100); // Keep last 100 entries\n    });\n  };\n\n  // Enhanced API request with retries\n  const apiRequest = useCallback(async (config, attempt = 1) => {\n    const maxRetries = 3;\n    const baseDelay = 1000;\n    \n    try {\n      const response = await axios({\n        ...config,\n        timeout: 30000,\n        headers: { ...HEADERS, ...config.headers },\n      });\n      return response;\n    } catch (error) {\n      if (attempt >= maxRetries) throw error;\n      \n      const retryDelay = baseDelay * Math.pow(2, attempt - 1);\n      appendLog(`⚠️ Attempt ${attempt} failed, retrying in ${retryDelay/1000}s...`, 'warning');\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n      return apiRequest(config, attempt + 1);\n    }\n  }, [appendLog]);\n\n  // Connection monitoring with retry\n  useEffect(() => {\n    let retries = 0;\n    const maxRetries = 3;\n    \n    const checkConnection = async () => {\n      try {\n        await apiRequest({ method: 'get', url: `${BASE_URL}/system/ping` });\n        setConnectionStatus('connected');\n        retries = 0;\n      } catch {\n        retries++;\n        if (retries >= maxRetries) {\n          setConnectionStatus('disconnected');\n          appendLog('⚠️ Failed to connect to server after retries', 'warning');\n        } else {\n          setTimeout(checkConnection, 1000 * Math.pow(2, retries));\n        }\n      }\n    };\n    \n    checkConnection();\n    const interval = setInterval(checkConnection, 30000);\n    return () => clearInterval(interval);\n  }, [apiRequest]);\n\n  // Auto-scroll log to bottom\n  useEffect(() => {\n    logEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [log]);\n\n  // Keyboard shortcut for import\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.ctrlKey && e.key === 'i' && !processing && users.length > 0 && connectionStatus === 'connected') {\n        confirmImport();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [processing, users.length, connectionStatus]);\n\n  // File upload handler with drag-and-drop\n  const handleFileUpload = (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setFileName(file.name);\n    const reader = new FileReader();\n    reader.onloadstart = () => appendLog('⏳ Loading user file...', 'info');\n    reader.onload = event => {\n      try {\n        if (file.name.endsWith('.csv')) {\n          const convertedUsers = convertCSVtoJSON(event.target.result);\n          if (convertedUsers) {\n            setUsers(convertedUsers);\n            appendLog(`✅ Loaded and converted ${convertedUsers.length} users from CSV`, 'success');\n          }\n        } else {\n          const data = JSON.parse(event.target.result);\n          if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n          setUsers(data);\n          appendLog(`✅ Loaded ${data.length} users from JSON`, 'success');\n        }\n      } catch (error) {\n        appendLog(`❌ Error parsing file: ${error.message}`, 'error');\n      }\n    };\n    reader.onerror = () => appendLog('❌ Failed to read file', 'error');\n    reader.readAsText(file);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.add('border-dashed', 'border-primary');\n  };\n\n  const handleDragLeave = (e) => {\n    e.currentTarget.classList.remove('border-dashed', 'border-primary');\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('border-dashed', 'border-primary');\n    const file = e.dataTransfer.files?.[0];\n    if (file) {\n      setFileName(file.name);\n      const reader = new FileReader();\n      reader.onloadstart = () => appendLog('⏳ Loading user file...', 'info');\n      reader.onload = event => {\n        try {\n          if (file.name.endsWith('.csv')) {\n            const convertedUsers = convertCSVtoJSON(event.target.result);\n            if (convertedUsers) {\n              setUsers(convertedUsers);\n              appendLog(`✅ Loaded and converted ${convertedUsers.length} users from CSV`, 'success');\n            }\n          } else {\n            const data = JSON.parse(event.target.result);\n            if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n            setUsers(data);\n            appendLog(`✅ Loaded ${data.length} users from JSON`, 'success');\n          }\n        } catch (error) {\n          appendLog(`❌ Error parsing file: ${error.message}`, 'error');\n        }\n      };\n      reader.onerror = () => appendLog('❌ Failed to read file', 'error');\n      reader.readAsText(file);\n    }\n  };\n\n  // Reusable download function\n  const downloadFile = (content, filename, mimeType) => {\n    try {\n      const blob = new Blob([content], { type: mimeType });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog(`✅ Downloaded ${filename}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Download failed: ${error.message}`, 'error');\n    }\n  };\n\n  // Sample JSON download\n  const downloadSampleJson = () => {\n    downloadFile(JSON.stringify(SAMPLE_USERS, null, 2), 'dhis2_users_sample.json', 'application/json');\n  };\n\n  // Sample CSV download\n  const downloadSampleCSV = () => {\n    const headers = [\n      'firstName',\n      'surname',\n      'username',\n      'password',\n      'userRoles',\n      'organisationUnits',\n      'dataViewOrganisationUnits',\n      'teiSearchOrganisationUnits',\n      'userGroups',\n    ].join(',');\n\n    const sampleRow = [\n      'JSS',\n      'Com',\n      '11010051',\n      'Abakaliki123@',\n      '[{\"id\": \"KBkjSGFKSKI\"},{\"id\": \"oO6BBApzmHZ\"}]',\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      '[{\"id\": \"Ca67o1mgiPn\"}]',\n    ].map(field => `\"${field}\"`).join(',');\n\n    const csvContent = [headers, sampleRow].join('\\n');\n    downloadFile(csvContent, 'dhis2_users_template.csv', 'text/csv;charset=utf-8;');\n  };\n\n  // User validation\n  const validateUser = (user) => {\n    if (!user.username) return 'Username is required';\n    if (!user.userRoles?.length) return 'At least one user role is required';\n    if (!user.organisationUnits?.length) return 'At least one organization unit is required';\n    return null;\n  };\n\n  // User management functions\n  const getUserId = async (username) => {\n    try {\n      const res = await apiRequest({\n        method: 'get',\n        url: `${BASE_URL}/users?filter=username:eq:${username}&fields=id`,\n      });\n      return res.data.users?.[0]?.id || null;\n    } catch (error) {\n      appendLog(`⚠️ Error fetching user ID for ${username}: ${error.message}`, 'warning');\n      return null;\n    }\n  };\n\n  const updateUser = async (user, id) => {\n    try {\n      const payload = {\n        firstName: user.firstName,\n        surname: user.surname,\n        username: user.username,\n        userRoles: user.userRoles.map(role => ({ id: role.id })),\n        organisationUnits: user.organisationUnits.map(ou => ({ id: ou.id })),\n        dataViewOrganisationUnits: user.dataViewOrganisationUnits.map(ou => ({ id: ou.id })),\n        teiSearchOrganisationUnits: user.teiSearchOrganisationUnits.map(ou => ({ id: ou.id })),\n        userGroups: user.userGroups.map(group => ({ id: group.id })),\n      };\n\n      await apiRequest({\n        method: 'put',\n        url: `${BASE_URL}/users/${id}`,\n        data: payload,\n      });\n      \n      appendLog(`🔄 Updated user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      appendLog(`❌ Error updating user ${user.username}: ${error.response?.data?.message || error.message}`, 'error');\n      return false;\n    }\n  };\n\n  const createUser = async (user) => {\n    try {\n      await apiRequest({\n        method: 'post',\n        url: `${BASE_URL}/users`,\n        data: user,\n      });\n      appendLog(`🆕 Created user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      if (error.response?.status === 409) {\n        const id = await getUserId(user.username);\n        if (id) {\n          appendLog(`⚠️ Conflict: Updating user ${user.username}`, 'warning');\n          return await updateUser(user, id);\n        } else {\n          appendLog(`❌ Conflict and ID not found: ${user.username}`, 'error');\n          return false;\n        }\n      }\n      appendLog(`❌ Error for ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n\n  // Process batch with parallel execution\n  const processBatch = async (batch) => {\n    const promises = batch.map(async (user) => {\n      try {\n        const id = await getUserId(user.username);\n        return id ? await updateUser(user, id) : await createUser(user);\n      } catch (error) {\n        appendLog(`❌ Failed to process ${user.username}: ${error.message}`, 'error');\n        return false;\n      }\n    });\n    return Promise.all(promises);\n  };\n\n  // Process users with validation\n  const confirmImport = () => {\n    if (window.confirm(`Are you sure you want to import ${users.length} users?`)) {\n      processUsers();\n    }\n  };\n\n  const processUsers = async () => {\n    const invalidUsers = users.filter(user => validateUser(user));\n    if (invalidUsers.length) {\n      appendLog(`⚠️ Invalid users detected: ${invalidUsers.length}`, 'warning');\n      return;\n    }\n\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    \n    let successCount = 0;\n    let errorCount = 0;\n    const totalBatches = Math.ceil(users.length / batchSize);\n\n    appendLog(`🚀 Starting import of ${users.length} users (${totalBatches} batches)`, 'info');\n    \n    for (let i = 0; i < users.length && !shouldStop.current; i += batchSize) {\n      const batch = users.slice(i, i + batchSize);\n      appendLog(`🔨 Processing batch ${Math.floor(i/batchSize) + 1}/${totalBatches}`, 'info');\n      \n      const batchResults = await processBatch(batch);\n      successCount += batchResults.filter(Boolean).length;\n      errorCount += batchResults.filter(x => !x).length;\n      \n      setProgress(Math.round(((i + batchSize) / users.length) * 100));\n      \n      if (shouldStop.current) break;\n    }\n    \n    appendLog(\n      `🎉 Process ${shouldStop.current ? 'stopped' : 'completed'}. Success: ${successCount}, Errors: ${errorCount}`,\n      errorCount > 0 ? 'warning' : 'success'\n    );\n    \n    setProcessing(false);\n  };\n\n  const stopProcessing = () => {\n    shouldStop.current = true;\n    appendLog(\"⏹ Stopping process after current batch completes...\", 'warning');\n  };\n\n  // Export functions\n  const exportUsersToCSV = async () => {\n    appendLog(\"📦 Starting DHIS2 user export...\", 'info');\n    setProcessing(true);\n    setExportProgress(0);\n\n    try {\n      let seenIds = new Set();\n      let usersList = [];\n      let nextUrl = `${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=1000`;\n      let pageCount = 0;\n\n      while (nextUrl) {\n        const response = await apiRequest({ method: 'get', url: nextUrl });\n        if (response.status !== 200) break;\n\n        const data = response.data;\n        const users = data.users || [];\n        const pager = data.pager || {};\n\n        pageCount++;\n        setExportProgress((pageCount / (pager.totalPages || 1)) * 100);\n\n        for (const user of users) {\n          const uid = user.id;\n          if (!uid || seenIds.has(uid)) continue;\n          seenIds.add(uid);\n\n          const userGroups = user.userGroups?.map(g => g.name).join(\"; \") || \"\";\n          const userRoles = user.userRoles?.map(r => r.name).join(\"; \") || \"\";\n          const lastLogin = user.lastLogin || \"\";\n\n          let schoolPaths = [];\n          let schoolUIDs = [];\n\n          (user.organisationUnits || []).forEach(ou => {\n            if (ou.ancestors?.length === 4) {\n              const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n              schoolPaths.push(path);\n              schoolUIDs.push(ou.id || \"\");\n            }\n          });\n\n          usersList.push({\n            id: uid,\n            name: user.name || '',\n            username: user.username || '',\n            userGroups,\n            userRoles,\n            lastLogin,\n            schoolPath: schoolPaths.join(\" | \"),\n            schoolUID: schoolUIDs.join(\" | \"),\n          });\n        }\n\n        appendLog(`✅ Page ${pager.page} fetched. Total: ${seenIds.size}`, 'success');\n        nextUrl = pager.nextPage || null;\n      }\n\n      setExportedUsers(usersList);\n      appendLog(`🎉 Export complete. Total users: ${seenIds.size}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Export failed: ${error.message}`, 'error');\n    } finally {\n      setProcessing(false);\n      setExportProgress(0);\n    }\n  };\n\n  const exportFilteredUsers = (format = 'csv') => {\n    const filtered = filteredUsers;\n    if (filtered.length === 0) {\n      appendLog('⚠️ No users match your filters', 'warning');\n      return;\n    }\n\n    try {\n      let content, mimeType, extension;\n      \n      if (format === 'csv') {\n        const headers = availableColumns\n          .filter(col => selectedColumns.includes(col.id))\n          .map(col => col.label);\n        \n        const rows = filtered.map(user => \n          selectedColumns.map(col => {\n            const value = user[col] || '';\n            return value.includes(',') ? `\"${value}\"` : value;\n          }).join(',')\n        );\n        \n        content = [headers.join(','), ...rows].join('\\n');\n        mimeType = 'text/csv;charset=utf-8;';\n        extension = 'csv';\n      } else {\n        content = JSON.stringify(filtered, null, 2);\n        mimeType = 'application/json';\n        extension = 'json';\n      }\n\n      downloadFile(content, `dhis2_users_${new Date().toISOString().slice(0,10)}.${extension}`, mimeType);\n    } catch (error) {\n      appendLog(`❌ Export error: ${error.message}`, 'error');\n    }\n  };\n\n  // UI helpers\n  const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');\n\n  const filteredUsers = useMemo(() => {\n    return exportedUsers.filter(user =>\n      user.username.toLowerCase().includes(usernameFilter.toLowerCase()) &&\n      user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase())\n    );\n  }, [exportedUsers, usernameFilter, orgUnitFilter]);\n\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n\n  const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\n  const handlePrevPage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\n\n  const toggleColumn = (columnId) => {\n    setSelectedColumns(prev => \n      prev.includes(columnId) ? prev.filter(id => id !== columnId) : [...prev, columnId]\n    );\n  };\n\n  const sortTable = (key) => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({ key, direction });\n\n    const sortedUsers = [...exportedUsers].sort((a, b) => {\n      if (a[key] < b[key]) return direction === 'asc' ? -1 : 1;\n      if (a[key] > b[key]) return direction === 'asc' ? 1 : -1;\n      return 0;\n    });\n    setExportedUsers(sortedUsers);\n  };\n\n  const getLogColor = (type) => {\n    switch (type) {\n      case 'error': return 'text-error';\n      case 'warning': return 'text-warning';\n      case 'success': return 'text-success';\n      default: return 'text-gray-300';\n    }\n  };\n\n  const rowHeight = 60;\n  const listHeight = 400;\n\n  const renderRow = ({ index, key, style }) => {\n    const user = currentUsers[index];\n    return (\n      <div key={key} style={style} className={`flex items-center border-b ${\n        index % 2 === 0\n          ? theme === 'dark'\n            ? 'bg-dark-card'\n            : 'bg-light-card'\n          : theme === 'dark'\n            ? 'bg-gray-800'\n            : 'bg-gray-50'\n      }`}>\n        {selectedColumns.map(col => (\n          <div\n            key={col}\n            className=\"p-3 sm:p-4 border-r text-sm sm:text-base break-words\"\n            style={{\n              minWidth: col === 'schoolPath' || col === 'schoolUID' ? '200px' : '100px',\n              display: 'table-cell', // Match header display\n            }}\n          >\n            {user[col]}\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className={`min-h-screen p-4 ${theme === 'dark' ? 'bg-dark-bg text-dark-text' : 'bg-light-bg text-light-text'}`}>\n      <div className=\"max-w-7xl mx-auto rounded-2xl shadow-lg overflow-hidden\">\n        {/* Header */}\n        <div className={`p-6 ${theme === 'dark' ? 'bg-dark-card' : 'bg-primary'} text-white`}>\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3\">\n              <FiUsers className=\"text-2xl\" />\n              <h1 className=\"text-2xl font-bold\">DHIS2 User Manager</h1>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button \n                onClick={toggleTheme} \n                className=\"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition-all duration-200 transform hover:scale-105\"\n                data-tooltip-id=\"theme-tooltip\"\n                data-tooltip-content={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n                aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n              >\n                {theme === 'light' ? <FiMoon /> : <FiSun />}\n                <span>{theme === 'light' ? 'Dark' : 'Light'} Mode</span>\n              </button>\n              <Tooltip id=\"theme-tooltip\" />\n              <button \n                onClick={() => setShowHelp(true)}\n                className=\"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition-all duration-200 transform hover:scale-105\"\n                data-tooltip-id=\"help-tooltip\"\n                data-tooltip-content=\"Open help documentation\"\n                aria-label=\"Open help\"\n              >\n                <FiHelpCircle />\n                <span>Help</span>\n              </button>\n              <Tooltip id=\"help-tooltip\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className={`p-6 ${theme === 'dark' ? 'bg-dark-card' : 'bg-light-card'}`}>\n          {/* Connection Status */}\n          <div className=\"mb-4 p-2 rounded-md bg-blue-50 border border-blue-200 dark:bg-gray-800 dark:border-gray-700\">\n            <div className=\"flex items-center\">\n              <span className=\"font-medium mr-2\">Server Status:</span>\n              <span className={`inline-block w-3 h-3 rounded-full mr-2 ${\n                connectionStatus === 'connected' ? 'bg-success' : 'bg-error'\n              }`}></span>\n              <span>{connectionStatus}</span>\n            </div>\n            {connectionStatus === 'disconnected' && (\n              <p className=\"mt-1 text-sm text-error\">\n                Connection issues detected. Some operations may fail.\n              </p>\n            )}\n          </div>\n\n          {/* Tabs */}\n          <div className=\"flex border-b mb-6\">\n            <button\n              className={`px-6 py-3 font-semibold flex items-center text-lg ${\n                activeTab === 'import' \n                  ? theme === 'dark' \n                    ? 'text-blue-300 border-b-4 border-blue-300' \n                    : 'text-primary border-b-4 border-primary' \n                  : theme === 'dark' \n                    ? 'text-dark-text' \n                    : 'text-light-text'\n              }`}\n              onClick={() => setActiveTab('import')}\n              data-tooltip-id=\"import-tooltip\"\n              data-tooltip-content=\"Import users from JSON or CSV files\"\n              aria-selected={activeTab === 'import'}\n            >\n              <FiUpload className=\"mr-2\" />\n              Import Users\n            </button>\n            <Tooltip id=\"import-tooltip\" />\n            <button\n              className={`px-6 py-3 font-semibold flex items-center text-lg ${\n                activeTab === 'export' \n                  ? theme === 'dark' \n                    ? 'text-blue-300 border-b-4 border-blue-300' \n                    : 'text-primary border-b-4 border-primary' \n                  : theme === 'dark' \n                    ? 'text-dark-text' \n                    : 'text-light-text'\n              }`}\n              onClick={() => setActiveTab('export')}\n              data-tooltip-id=\"export-tooltip\"\n              data-tooltip-content=\"Export users from DHIS2 server\"\n              aria-selected={activeTab === 'export'}\n            >\n              <FiDownload className=\"mr-2\" />\n              Export Users\n            </button>\n            <Tooltip id=\"export-tooltip\" />\n          </div>\n\n          {/* Import Tab */}\n          {activeTab === 'import' && (\n            <div className=\"space-y-6\">\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h2 className=\"text-lg font-semibold mb-3\">Import Users</h2>\n                <div className=\"flex flex-wrap gap-4\">\n                  <div className=\"flex-1 min-w-[300px]\">\n                    <label className=\"block mb-2 font-medium\" htmlFor=\"file-upload\">Upload File</label>\n                    <div\n                      id=\"file-upload-desc\"\n                      className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\"\n                    >\n                      Upload a JSON or CSV file containing user data.\n                    </div>\n                    <div\n                      onDragOver={handleDragOver}\n                      onDragLeave={handleDragLeave}\n                      onDrop={handleDrop}\n                      className={`flex-1 border rounded-lg p-4 cursor-pointer flex items-center ${\n                        theme === 'dark' ? 'border-gray-600 bg-gray-900 hover:bg-gray-800' : 'border-gray-300 bg-white hover:bg-gray-50'\n                      } transition-all duration-200`}\n                    >\n                      <FiUpload className=\"mr-2\" />\n                      <span>{fileName || 'Choose File or Drag & Drop'}</span>\n                      <input \n                        id=\"file-upload\"\n                        type=\"file\" \n                        accept=\".json,.csv\" \n                        onChange={handleFileUpload} \n                        disabled={processing}\n                        className=\"hidden\" \n                        aria-label=\"Upload JSON or CSV file\"\n                        aria-describedby=\"file-upload-desc\"\n                      />\n                    </div>\n                    {users.length > 0 && (\n                      <p className=\"mt-2 text-sm text-success\">\n                        ✅ {users.length} users loaded\n                      </p>\n                    )}\n                  </div>\n\n                  <div className=\"flex-1 min-w-[300px]\">\n                    <label className=\"block mb-2 font-medium\" htmlFor=\"batch-size\">Batch Settings</label>\n                    <select\n                      id=\"batch-size\"\n                      value={batchSize}\n                      onChange={(e) => setBatchSize(Number(e.target.value))}\n                      className={`w-full border rounded-lg p-2 ${\n                        theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                      }`}\n                      aria-label=\"Select batch size for user import\"\n                    >\n                      {[1, 2, 5, 10].map(size => (\n                        <option key={size} value={size}>{size} users/batch</option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n                <div className=\"mt-4 flex space-x-2\">\n                  <button \n                    onClick={() => {\n                      if (users.length > 0) {\n                        downloadFile(JSON.stringify(users, null, 2), 'converted_users.json', 'application/json');\n                      } else {\n                        appendLog('⚠️ No users loaded to convert', 'warning');\n                      }\n                    }}\n                    className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                      theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'\n                    } text-white`}\n                    data-tooltip-id=\"convert-tooltip\"\n                    data-tooltip-content=\"Convert loaded users to JSON\"\n                    aria-label=\"Convert loaded users to JSON\"\n                  >\n                    <FiDownload className=\"mr-2\" />\n                    Convert to JSON\n                  </button>\n                  <Tooltip id=\"convert-tooltip\" />\n                  <button \n                    onClick={downloadSampleJson}\n                    className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                      theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'\n                    } text-white`}\n                    data-tooltip-id=\"json-sample-tooltip\"\n                    data-tooltip-content=\"Download JSON sample\"\n                    aria-label=\"Download JSON sample\"\n                  >\n                    <FiDownload className=\"mr-2\" />\n                    JSON\n                  </button>\n                  <Tooltip id=\"json-sample-tooltip\" />\n                  <button \n                    onClick={downloadSampleCSV}\n                    className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                      theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'\n                    } text-white`}\n                    data-tooltip-id=\"csv-template-tooltip\"\n                    data-tooltip-content=\"Download CSV template\"\n                    aria-label=\"Download CSV template\"\n                  >\n                    <FiDownload className=\"mr-2\" />\n                    CSV\n                  </button>\n                  <Tooltip id=\"csv-template-tooltip\" />\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-4\">\n                <button \n                  onClick={confirmImport} \n                  disabled={processing || users.length === 0 || connectionStatus !== 'connected'}\n                  className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                    processing || users.length === 0 || connectionStatus !== 'connected'\n                      ? 'bg-secondary cursor-not-allowed opacity-50'\n                      : 'bg-primary hover:bg-primary/90 text-white'\n                  }`}\n                  data-tooltip-id=\"start-import-tooltip\"\n                  data-tooltip-content=\"Start importing users\"\n                  aria-label=\"Start user import\"\n                >\n                  <FiPlay className=\"mr-2\" />\n                  Start Import\n                </button>\n                <Tooltip id=\"start-import-tooltip\" />\n                <button \n                  onClick={stopProcessing} \n                  disabled={!processing}\n                  className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                    !processing \n                      ? 'bg-secondary cursor-not-allowed opacity-50'\n                      : 'bg-error hover:bg-error/90 text-white'\n                  }`}\n                  data-tooltip-id=\"stop-import-tooltip\"\n                  data-tooltip-content=\"Stop user import\"\n                  aria-label=\"Stop user import\"\n                >\n                  <FiSquare className=\"mr-2\" />\n                  Stop\n                </button>\n                <Tooltip id=\"stop-import-tooltip\" />\n              </div>\n\n              {processing && (\n                <div className=\"w-full bg-gray-200 rounded-full h-4 overflow-hidden dark:bg-gray-700 relative\">\n                  <div \n                    className=\"bg-primary h-4 transition-all duration-300 dark:bg-blue-400\" \n                    style={{ width: `${progress}%` }} \n                    role=\"progressbar\"\n                    aria-valuenow={progress}\n                    aria-valuemin={0}\n                    aria-valuemax={100}\n                  />\n                  <span className=\"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white\">\n                    {progress}%\n                  </span>\n                </div>\n              )}\n\n              {/* Activity Log */}\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h3 className=\"font-medium mb-2\">Activity Log</h3>\n                <div \n                  className={`h-60 overflow-y-auto p-3 rounded ${\n                    theme === 'dark' ? 'bg-black' : 'bg-gray-200'\n                  }`} \n                  role=\"log\"\n                  aria-live=\"polite\"\n                >\n                  {log.length === 0 ? (\n                    <p className={`text-center ${\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-600'\n                    }`}>\n                      No activity yet\n                    </p>\n                  ) : (\n                    <div className=\"font-mono text-sm space-y-2\">\n                      {log.map((entry, i) => (\n                        <div\n                          key={i}\n                          className={`flex items-center ${getLogColor(entry.type)} border-l-4 pl-3 py-1 ${\n                            entry.type === 'error' ? 'border-error' :\n                            entry.type === 'warning' ? 'border-warning' :\n                            entry.type === 'success' ? 'border-success' : 'border-secondary'\n                          }`}\n                        >\n                          <span className=\"opacity-70 mr-2\">[{entry.timestamp}]</span>\n                          <span>\n                            {entry.type === 'success' && '✅ '}\n                            {entry.type === 'error' && '❌ '}\n                            {entry.type === 'warning' && '⚠️ '}\n                            {entry.message}\n                          </span>\n                        </div>\n                      ))}\n                      <div ref={logEndRef} />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Export Tab */}\n          {activeTab === 'export' && (\n            <div className=\"space-y-6\">\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h2 className=\"text-lg font-semibold mb-3\">Export Users</h2>\n                <button \n                  onClick={exportUsersToCSV} \n                  disabled={processing}\n                  className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                    processing \n                      ? 'bg-secondary cursor-not-allowed opacity-50'\n                      : 'bg-primary hover:bg-primary/90 text-white'\n                  }`}\n                  data-tooltip-id=\"fetch-users-tooltip\"\n                  data-tooltip-content=\"Fetch users from DHIS2\"\n                  aria-label=\"Fetch users from DHIS2\"\n                >\n                  <FiDownload className=\"mr-2\" />\n                  Fetch Users from DHIS2\n                </button>\n                <Tooltip id=\"fetch-users-tooltip\" />\n              </div>\n\n              {processing && activeTab === 'export' && (\n                <div className=\"w-full bg-gray-200 rounded-full h-4 overflow-hidden dark:bg-gray-700 relative\">\n                  <div \n                    className=\"bg-primary h-4 transition-all duration-300 dark:bg-blue-400\" \n                    style={{ width: `${exportProgress}%` }} \n                    role=\"progressbar\"\n                    aria-valuenow={exportProgress}\n                    aria-valuemin={0}\n                    aria-valuemax={100}\n                  />\n                  <span className=\"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white\">\n                    {Math.round(exportProgress)}%\n                  </span>\n                </div>\n              )}\n\n              {exportedUsers.length > 0 && (\n                <>\n                  <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                    <button\n                      className=\"md:hidden mb-4 px-4 py-2 bg-primary text-white rounded-lg transition-all duration-200 transform hover:scale-105\"\n                      onClick={() => setIsFilterOpen(!isFilterOpen)}\n                      data-tooltip-id=\"toggle-filters-tooltip\"\n                      data-tooltip-content={isFilterOpen ? 'Hide filters' : 'Show filters'}\n                      aria-label=\"Toggle filters\"\n                    >\n                      {isFilterOpen ? 'Hide Filters' : 'Show Filters'}\n                    </button>\n                    <Tooltip id=\"toggle-filters-tooltip\" />\n                    <div className={`${isFilterOpen ? 'block' : 'hidden'} md:block`}>\n                      <h3 className=\"font-medium mb-3\">Filter & Export</h3>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                        <div>\n                          <label className=\"block mb-1\" htmlFor=\"username-filter\">Username</label>\n                          <input\n                            id=\"username-filter\"\n                            type=\"text\"\n                            placeholder=\"Filter by username\"\n                            value={usernameFilter}\n                            onChange={(e) => setUsernameFilter(e.target.value)}\n                            className={`w-full p-2 rounded border ${\n                              theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                            }`}\n                            aria-label=\"Filter users by username\"\n                          />\n                          <p className=\"mt-1 text-sm text-gray-500\">\n                            {filteredUsers.length} users match your filters\n                          </p>\n                        </div>\n                        <div>\n                          <label className=\"block mb-1\" htmlFor=\"orgunit-filter\">Organization Unit</label>\n                          <input\n                            id=\"orgunit-filter\"\n                            type=\"text\"\n                            placeholder=\"Filter by org unit path\"\n                            value={orgUnitFilter}\n                            onChange={(e) => setOrgUnitFilter(e.target.value)}\n                            className={`w-full p-2 rounded border ${\n                              theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                            }`}\n                            aria-label=\"Filter users by organization unit path\"\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"mb-4\">\n                        <label className=\"block mb-2\">Columns to Export</label>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {availableColumns.map(col => (\n                            <label key={col.id} className=\"flex items-center space-x-1\">\n                              <input\n                                type=\"checkbox\"\n                                checked={selectedColumns.includes(col.id)}\n                                onChange={() => toggleColumn(col.id)}\n                                className=\"rounded\"\n                                aria-label={`Toggle ${col.label} column`}\n                              />\n                              <span>{col.label}</span>\n                            </label>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"flex flex-wrap gap-3\">\n                        <button\n                          onClick={() => {\n                            setUsernameFilter('');\n                            setOrgUnitFilter('');\n                          }}\n                          className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                            theme === 'dark' ? 'bg-secondary hover:bg-secondary/90' : 'bg-gray-200 hover:bg-gray-300'\n                          }`}\n                          data-tooltip-id=\"clear-filters-tooltip\"\n                          data-tooltip-content=\"Clear all filters\"\n                          aria-label=\"Clear filters\"\n                        >\n                          Clear Filters\n                        </button>\n                        <Tooltip id=\"clear-filters-tooltip\" />\n                        <button\n                          onClick={() => exportFilteredUsers('csv')}\n                          className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                            theme === 'dark' ? 'bg-success hover:bg-success/90' : 'bg-success hover:bg-success/90'\n                          } text-white`}\n                          data-tooltip-id=\"export-csv-tooltip\"\n                          data-tooltip-content=\"Export filtered users as CSV\"\n                          aria-label=\"Export filtered users as CSV\"\n                        >\n                          <FiDownload className=\"mr-2\" />\n                          Export as CSV\n                        </button>\n                        <Tooltip id=\"export-csv-tooltip\" />\n                        <button\n                          onClick={() => exportFilteredUsers('json')}\n                          className={`px-4 py-2 rounded-lg flex items-center transition-all duration-200 transform hover:scale-105 ${\n                            theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-600 hover:bg-yellow-500'\n                          } text-white`}\n                          data-tooltip-id=\"export-json-tooltip\"\n                          data-tooltip-content=\"Export filtered users as JSON\"\n                          aria-label=\"Export filtered users as JSON\"\n                        >\n                          <FiDownload className=\"mr-2\" />\n                          Export as JSON\n                        </button>\n                        <Tooltip id=\"export-json-tooltip\" />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                    <h3 className=\"font-medium mb-3\">User Data ({filteredUsers.length} users)</h3>\n\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"table-auto min-w-full border border-gray-400 dark:border-gray-600\">\n                        {/* Table Head */}\n                        <thead className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-gray-300'}`}>\n                          <tr>\n                            {selectedColumns.map(col => (\n                              <th\n                                key={col}\n                                className=\"p-3 border border-gray-400 dark:border-gray-600 text-left text-sm font-semibold whitespace-normal break-words\"\n                                style={{\n                                  minWidth: col === 'schoolPath' ? '400px' : '200px',\n                                  maxWidth: col === 'schoolPath' ? '600px' : '300px',\n                                }}\n                                onClick={() => sortTable(col)}\n                              >\n                                {availableColumns.find(c => c.id === col)?.label}\n                                {sortConfig.key === col && (\n                                  <span>{sortConfig.direction === 'asc' ? ' ↑' : ' ↓'}</span>\n                                )}\n                              </th>\n                            ))}\n                          </tr>\n                        </thead>\n\n                        {/* Table Body */}\n                        <tbody>\n                          {currentUsers.map((user, index) => (\n                            <tr\n                              key={index}\n                              className={`${index % 2 === 0 ? 'bg-white' : 'bg-gray-100'} dark:bg-gray-800`}\n                            >\n                              {selectedColumns.map(col => (\n                                <td\n                                  key={`${index}-${col}`}\n                                  className=\"p-3 border border-gray-400 dark:border-gray-600 text-sm align-top whitespace-pre-wrap break-words\"\n                                  style={{\n                                    minWidth: col === 'schoolPath' ? '300px' : '200px',\n                                    maxWidth: col === 'schoolPath' ? '600px' : '400px',\n                                  }}\n                                >\n                                  {String(user[col] ?? '')}\n                                </td>\n                              ))}\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n\n                    {/* Pagination */}\n                    {totalPages > 1 && (\n                      <div className=\"mt-4 flex justify-between items-center\">\n                        <button\n                          onClick={handlePrevPage}\n                          disabled={currentPage === 1}\n                          className={`px-4 py-2 rounded ${\n                            currentPage === 1\n                              ? 'opacity-50 cursor-not-allowed'\n                              : theme === 'dark'\n                                ? 'bg-gray-600 hover:bg-gray-500'\n                                : 'bg-gray-200 hover:bg-gray-300'\n                          }`}\n                        >\n                          Previous\n                        </button>\n                        <span>Page {currentPage} of {totalPages}</span>\n                        <button\n                          onClick={handleNextPage}\n                          disabled={currentPage === totalPages}\n                          className={`px-4 py-2 rounded ${\n                            currentPage === totalPages\n                              ? 'opacity-50 cursor-not-allowed'\n                              : theme === 'dark'\n                                ? 'bg-gray-600 hover:bg-gray-500'\n                                : 'bg-gray-200 hover:bg-gray-300'\n                          }`}\n                        >\n                          Next\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n\n              {/* Activity Log */}\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h3 className=\"font-medium mb-2\">Activity Log</h3>\n                <div \n                  className={`h-60 overflow-y-auto p-3 rounded ${\n                    theme === 'dark' ? 'bg-black' : 'bg-gray-200'\n                  }`} \n                  role=\"log\"\n                  aria-live=\"polite\"\n                >\n                  {log.length === 0 ? (\n                    <p className={`text-center ${\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-600'\n                    }`}>\n                      No activity yet\n                    </p>\n                  ) : (\n                    <div className=\"font-mono text-sm space-y-2\">\n                      {log.map((entry, i) => (\n                        <div\n                          key={i}\n                          className={`flex items-center ${getLogColor(entry.type)} border-l-4 pl-3 py-1 ${\n                            entry.type === 'error' ? 'border-error' :\n                            entry.type === 'warning' ? 'border-warning' :\n                            entry.type === 'success' ? 'border-success' : 'border-secondary'\n                          }`}\n                        >\n                          <span className=\"opacity-70 mr-2\">[{entry.timestamp}]</span>\n                          <span>\n                            {entry.type === 'success' && '✅ '}\n                            {entry.type === 'error' && '❌ '}\n                            {entry.type === 'warning' && '⚠️ '}\n                            {entry.message}\n                          </span>\n                        </div>\n                      ))}\n                      <div ref={logEndRef} />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Help Modal */}\n          {showHelp && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\" role=\"dialog\" aria-labelledby=\"help-title\">\n              <div className={`p-6 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\n                <h2 id=\"help-title\" className=\"text-lg font-bold mb-4\">Help</h2>\n                <p className=\"mb-4\">\n                  The DHIS2 User Manager allows you to import and export user data in JSON or CSV formats.\n                  Upload a file to import users, or fetch and filter users from the DHIS2 server for export.\n                  For more details, visit the <a href=\"https://docs.dhis2.org\" className=\"text-blue-600 hover:underline\">DHIS2 documentation</a>.\n                </p>\n                <button \n                  onClick={() => setShowHelp(false)}\n                  className={`px-4 py-2 rounded transition-all duration-200 transform hover:scale-105 ${\n                    theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'\n                  } text-white`}\n                  aria-label=\"Close help modal\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}