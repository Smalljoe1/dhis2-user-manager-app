{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nongu\\\\Documents\\\\Projects\\\\dhis2-user-manager\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { init, useDataEngine, useAlertBar } from '@dhis2/app-runtime';\nimport { CircularLoader, Button, Input, Table, TableBody, TableCell, TableRow, TableHead, TableHeader, Layer } from '@dhis2/ui';\nimport axios from 'axios';\nimport { FiUpload, FiDownload, FiPlay, FiSquare, FiSun, FiMoon, FiHelpCircle, FiUsers } from 'react-icons/fi';\nimport { convertCSVtoJSON } from './convertCSVtoJSON';\n\n// Configure axios defaults\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\naxios.defaults.timeout = 30000; // 30 second timeout\naxios.defaults.maxContentLength = 50 * 1024 * 1024; // 50MB\naxios.defaults.maxBodyLength = 50 * 1024 * 1024; // 50MB\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': `ApiToken ${process.env.REACT_APP_API_TOKEN}`\n};\n\n// Sample user data for download\nconst SAMPLE_USERS = [{\n  firstName: \"PVT\",\n  surname: \"Royal\",\n  username: 12020407,\n  password: \"Egor123@\",\n  userRoles: [{\n    id: \"KBkjSGFKSKI\"\n  }, {\n    id: \"oO6BBApzmHZ\"\n  }],\n  organisationUnits: [{\n    id: \"wRQIw3NMW29\"\n  }],\n  dataViewOrganisationUnits: [{\n    id: \"wRQIw3NMW29\"\n  }],\n  teiSearchOrganisationUnits: [{\n    id: \"wRQIw3NMW29\"\n  }],\n  userGroups: [{\n    id: \"U8WuGyxfFFp\"\n  }]\n}, {\n  firstName: \"PVT\",\n  surname: \"Dominion\",\n  username: 12020409,\n  password: \"Egor123@\",\n  userRoles: [{\n    id: \"KBkjSGFKSKI\"\n  }, {\n    id: \"oO6BBApzmHZ\"\n  }],\n  organisationUnits: [{\n    id: \"AVEyJypVCjJ\"\n  }],\n  dataViewOrganisationUnits: [{\n    id: \"AVEyJypVCjJ\"\n  }],\n  teiSearchOrganisationUnits: [{\n    id: \"AVEyJypVCjJ\"\n  }],\n  userGroups: [{\n    id: \"U8WuGyxfFFp\"\n  }]\n}];\nconst MyApp = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [log, setLog] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeTab, setActiveTab] = useState('import');\n  const [batchSize, setBatchSize] = useState(2);\n  const [connectionStatus, setConnectionStatus] = useState('checking...');\n  const [selectedColumns, setSelectedColumns] = useState(['id', 'name', 'username', 'userGroups', 'userRoles', 'lastLogin', 'schoolPath']);\n  const [showHelp, setShowHelp] = useState(false);\n  const shouldStop = useRef(false);\n  const logEndRef = useRef(null);\n  const engine = useDataEngine();\n  const {\n    add: addAlert\n  } = useAlertBar();\n  const usersPerPage = 100;\n  const availableColumns = [{\n    id: 'id',\n    label: 'ID'\n  }, {\n    id: 'name',\n    label: 'Name'\n  }, {\n    id: 'username',\n    label: 'Username'\n  }, {\n    id: 'userGroups',\n    label: 'Groups'\n  }, {\n    id: 'userRoles',\n    label: 'Roles'\n  }, {\n    id: 'lastLogin',\n    label: 'Last Login'\n  }, {\n    id: 'schoolPath',\n    label: 'School Path'\n  }, {\n    id: 'schoolUID',\n    label: 'School UID'\n  }];\n  const appendLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLog(prevLog => {\n      const newLog = [...prevLog, {\n        message,\n        type,\n        timestamp\n      }];\n      return newLog.slice(-100);\n    });\n    if (type === 'error') addAlert({\n      message,\n      critical: true\n    });\n  };\n  const apiRequest = useCallback(async (config, attempt = 1) => {\n    const maxRetries = 3;\n    const baseDelay = 1000;\n    try {\n      const response = await axios({\n        ...config,\n        timeout: 30000,\n        headers: {\n          ...HEADERS,\n          ...config.headers\n        },\n        baseURL: BASE_URL\n      });\n      return response;\n    } catch (error) {\n      if (attempt >= maxRetries) throw error;\n      const retryDelay = baseDelay * Math.pow(2, attempt - 1);\n      appendLog(`‚ö†Ô∏è Attempt ${attempt} failed, retrying in ${retryDelay / 1000}s...`, 'warning');\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n      return apiRequest(config, attempt + 1);\n    }\n  }, [appendLog]);\n  useEffect(() => {\n    let retries = 0;\n    const maxRetries = 3;\n    const checkConnection = async () => {\n      try {\n        await engine.query({\n          resource: 'system/ping'\n        });\n        setConnectionStatus('connected');\n        retries = 0;\n      } catch {\n        retries++;\n        if (retries >= maxRetries) {\n          setConnectionStatus('disconnected');\n          appendLog('‚ö†Ô∏è Failed to connect to server after retries', 'warning');\n        } else {\n          setTimeout(checkConnection, 1000 * Math.pow(2, retries));\n        }\n      }\n    };\n    checkConnection();\n    const interval = setInterval(checkConnection, 30000);\n    return () => clearInterval(interval);\n  }, [engine]);\n  useEffect(() => {\n    var _logEndRef$current;\n    (_logEndRef$current = logEndRef.current) === null || _logEndRef$current === void 0 ? void 0 : _logEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [log]);\n  const handleFileUpload = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onloadstart = () => appendLog('‚è≥ Loading user file...', 'info');\n    reader.onload = event => {\n      try {\n        if (file.name.endsWith('.csv')) {\n          const convertedUsers = convertCSVtoJSON(event.target.result);\n          if (convertedUsers) {\n            setUsers(convertedUsers);\n            appendLog(`‚úÖ Loaded and converted ${convertedUsers.length} users from CSV`, 'success');\n          }\n        } else {\n          const data = JSON.parse(event.target.result);\n          if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n          setUsers(data);\n          appendLog(`‚úÖ Loaded ${data.length} users from JSON`, 'success');\n        }\n      } catch (error) {\n        appendLog(`‚ùå Error parsing file: ${error.message}`, 'error');\n      }\n    };\n    reader.onerror = () => appendLog('‚ùå Failed to read file', 'error');\n    reader.readAsText(file);\n  };\n  const downloadFile = (content, filename, mimeType) => {\n    try {\n      const blob = new Blob([content], {\n        type: mimeType\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog(`‚úÖ Downloaded ${filename}`, 'success');\n    } catch (error) {\n      appendLog(`‚ùå Download failed: ${error.message}`, 'error');\n    }\n  };\n  const downloadSampleJson = () => {\n    downloadFile(JSON.stringify(SAMPLE_USERS, null, 2), 'dhis2_users_sample.json', 'application/json');\n  };\n  const downloadSampleCSV = () => {\n    const headers = ['firstName', 'surname', 'username', 'password', 'userRoles', 'organisationUnits', 'dataViewOrganisationUnits', 'teiSearchOrganisationUnits', 'userGroups'].join(',');\n    const sampleRow = ['JSS', 'Com', '11010051', 'Abakaliki123@', '[{\"id\": \"KBkjSGFKSKI\"},{\"id\": \"oO6BBApzmHZ\"}]', '[{\"id\": \"wMcSLrAHchs\"}]', '[{\"id\": \"wMcSLrAHchs\"}]', '[{\"id\": \"wMcSLrAHchs\"}]', '[{\"id\": \"Ca67o1mgiPn\"}]'].map(field => `\"${field}\"`).join(',');\n    const csvContent = [headers, sampleRow].join('\\n');\n    downloadFile(csvContent, 'dhis2_users_template.csv', 'text/csv;charset=utf-8;');\n  };\n  const validateUser = user => {\n    var _user$userRoles, _user$organisationUni;\n    if (!user.username) return 'Username is required';\n    if (!((_user$userRoles = user.userRoles) !== null && _user$userRoles !== void 0 && _user$userRoles.length)) return 'At least one user role is required';\n    if (!((_user$organisationUni = user.organisationUnits) !== null && _user$organisationUni !== void 0 && _user$organisationUni.length)) return 'At least one organization unit is required';\n    return null;\n  };\n  const getUserId = async username => {\n    try {\n      var _res$users, _res$users$;\n      const res = await engine.query({\n        resource: 'users',\n        params: {\n          filter: `username:eq:${username}`,\n          fields: 'id'\n        }\n      });\n      return ((_res$users = res.users) === null || _res$users === void 0 ? void 0 : (_res$users$ = _res$users[0]) === null || _res$users$ === void 0 ? void 0 : _res$users$.id) || null;\n    } catch (error) {\n      appendLog(`‚ö†Ô∏è Error fetching user ID for ${username}: ${error.message}`, 'warning');\n      return null;\n    }\n  };\n  const updateUser = async (user, id) => {\n    try {\n      const payload = {\n        firstName: user.firstName,\n        surname: user.surname,\n        username: user.username,\n        userRoles: user.userRoles.map(role => ({\n          id: role.id\n        })),\n        organisationUnits: user.organisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        dataViewOrganisationUnits: user.dataViewOrganisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        teiSearchOrganisationUnits: user.teiSearchOrganisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        userGroups: user.userGroups.map(group => ({\n          id: group.id\n        }))\n      };\n      await engine.mutate({\n        resource: `users/${id}`,\n        type: 'update',\n        data: payload\n      });\n      appendLog(`üîÑ Updated user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      appendLog(`‚ùå Error updating user ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n  const createUser = async user => {\n    try {\n      await engine.mutate({\n        resource: 'users',\n        type: 'create',\n        data: user\n      });\n      appendLog(`üÜï Created user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      if (error.code === 409) {\n        const id = await getUserId(user.username);\n        if (id) {\n          appendLog(`‚ö†Ô∏è Conflict: Updating user ${user.username}`, 'warning');\n          return await updateUser(user, id);\n        } else {\n          appendLog(`‚ùå Conflict and ID not found: ${user.username}`, 'error');\n          return false;\n        }\n      }\n      appendLog(`‚ùå Error for ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n  const processBatch = async batch => {\n    const promises = batch.map(async user => {\n      try {\n        const id = await getUserId(user.username);\n        return id ? await updateUser(user, id) : await createUser(user);\n      } catch (error) {\n        appendLog(`‚ùå Failed to process ${user.username}: ${error.message}`, 'error');\n        return false;\n      }\n    });\n    return Promise.all(promises);\n  };\n  const processUsers = async () => {\n    const invalidUsers = users.filter(user => validateUser(user));\n    if (invalidUsers.length) {\n      appendLog(`‚ö†Ô∏è Invalid users detected: ${invalidUsers.length}`, 'warning');\n      return;\n    }\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    let successCount = 0;\n    let errorCount = 0;\n    const totalBatches = Math.ceil(users.length / batchSize);\n    appendLog(`üöÄ Starting import of ${users.length} users (${totalBatches} batches)`, 'info');\n    for (let i = 0; i < users.length && !shouldStop.current; i += batchSize) {\n      const batch = users.slice(i, i + batchSize);\n      appendLog(`üî® Processing batch ${Math.floor(i / batchSize) + 1}/${totalBatches}`, 'info');\n      const batchResults = await processBatch(batch);\n      successCount += batchResults.filter(Boolean).length;\n      errorCount += batchResults.filter(x => !x).length;\n      setProgress(Math.round((i + batchSize) / users.length * 100));\n      if (shouldStop.current) break;\n    }\n    appendLog(`üéâ Process ${shouldStop.current ? 'stopped' : 'completed'}. Success: ${successCount}, Errors: ${errorCount}`, errorCount > 0 ? 'warning' : 'success');\n    setProcessing(false);\n  };\n  const stopProcessing = () => {\n    shouldStop.current = true;\n    appendLog(\"‚èπ Stopping process after current batch completes...\", 'warning');\n  };\n  const exportUsersToCSV = async () => {\n    appendLog(\"üì¶ Starting DHIS2 user export...\", 'info');\n    setProcessing(true);\n    try {\n      let seenIds = new Set();\n      let usersList = [];\n      let nextPage = 1;\n      while (true) {\n        const response = await engine.query({\n          resource: 'users',\n          params: {\n            fields: 'id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]',\n            paging: true,\n            pageSize: 1000,\n            page: nextPage\n          }\n        });\n        const users = response.users || [];\n        const pager = response.pager || {};\n        for (const user of users) {\n          var _user$userGroups, _user$userRoles2;\n          const uid = user.id;\n          if (!uid || seenIds.has(uid)) continue;\n          seenIds.add(uid);\n          const userGroups = ((_user$userGroups = user.userGroups) === null || _user$userGroups === void 0 ? void 0 : _user$userGroups.map(g => g.name).join(\"; \")) || \"\";\n          const userRoles = ((_user$userRoles2 = user.userRoles) === null || _user$userRoles2 === void 0 ? void 0 : _user$userRoles2.map(r => r.name).join(\"; \")) || \"\";\n          const lastLogin = user.lastLogin || \"\";\n          let schoolPaths = [];\n          let schoolUIDs = [];\n          (user.organisationUnits || []).forEach(ou => {\n            var _ou$ancestors;\n            if (((_ou$ancestors = ou.ancestors) === null || _ou$ancestors === void 0 ? void 0 : _ou$ancestors.length) === 4) {\n              const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n              schoolPaths.push(path);\n              schoolUIDs.push(ou.id || \"\");\n            }\n          });\n          usersList.push({\n            id: uid,\n            name: user.name || '',\n            username: user.username || '',\n            userGroups,\n            userRoles,\n            lastLogin,\n            schoolPath: schoolPaths.join(\" | \"),\n            schoolUID: schoolUIDs.join(\" | \")\n          });\n        }\n        appendLog(`‚úÖ Page ${pager.page} fetched. Total: ${seenIds.size}`, 'success');\n        if (!pager.nextPage) break;\n        nextPage++;\n      }\n      setExportedUsers(usersList);\n      appendLog(`üéâ Export complete. Total users: ${seenIds.size}`, 'success');\n    } catch (error) {\n      appendLog(`‚ùå Export failed: ${error.message}`, 'error');\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const exportFilteredUsers = (format = 'csv') => {\n    const filtered = exportedUsers.filter(u => u.username.toLowerCase().includes(usernameFilter.toLowerCase()) && u.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase()));\n    if (filtered.length === 0) {\n      appendLog('‚ö†Ô∏è No users match your filters', 'warning');\n      return;\n    }\n    try {\n      let content, mimeType, extension;\n      if (format === 'csv') {\n        const headers = availableColumns.filter(col => selectedColumns.includes(col.id)).map(col => col.label);\n        const rows = filtered.map(user => selectedColumns.map(col => {\n          const value = user[col] || '';\n          return value.includes(',') ? `\"${value}\"` : value;\n        }).join(','));\n        content = [headers.join(','), ...rows].join('\\n');\n        mimeType = 'text/csv;charset=utf-8;';\n        extension = 'csv';\n      } else {\n        content = JSON.stringify(filtered, null, 2);\n        mimeType = 'application/json';\n        extension = 'json';\n      }\n      downloadFile(content, `dhis2_users_${new Date().toISOString().slice(0, 10)}.${extension}`, mimeType);\n    } catch (error) {\n      appendLog(`‚ùå Export error: ${error.message}`, 'error');\n    }\n  };\n  const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');\n  const filteredUsers = exportedUsers.filter(user => user.username.toLowerCase().includes(usernameFilter.toLowerCase()) && user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase()));\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n  const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\n  const handlePrevPage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\n  const toggleColumn = columnId => {\n    setSelectedColumns(prev => prev.includes(columnId) ? prev.filter(id => id !== columnId) : [...prev, columnId]);\n  };\n  const getLogColor = type => {\n    switch (type) {\n      case 'error':\n        return 'text-red-400';\n      case 'warning':\n        return 'text-yellow-400';\n      case 'success':\n        return 'text-green-400';\n      default:\n        return 'text-gray-300';\n    }\n  };\n  if (!engine) return /*#__PURE__*/_jsxDEV(Layer, {\n    children: /*#__PURE__*/_jsxDEV(CircularLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 481,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen p-4 ${theme === 'dark' ? 'dark bg-gray-900' : 'bg-gray-50'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto rounded-2xl shadow-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-6 ${theme === 'dark' ? 'bg-gray-800' : 'bg-blue-600'} text-white`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(FiUsers, {\n              className: \"text-2xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: \"DHIS2 User Manager\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: toggleTheme,\n              className: \"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\",\n              \"aria-label\": `Switch to ${theme === 'light' ? 'dark' : 'light'} mode`,\n              children: [theme === 'light' ? /*#__PURE__*/_jsxDEV(FiMoon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(FiSun, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [theme === 'light' ? 'Dark' : 'Light', \" Mode\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowHelp(true),\n              className: \"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\",\n              \"aria-label\": \"Open help\",\n              children: [/*#__PURE__*/_jsxDEV(FiHelpCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-6 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-2 rounded-md bg-blue-50 border border-blue-200 dark:bg-gray-800 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium mr-2\",\n              children: \"Server Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `inline-block w-3 h-3 rounded-full mr-2 ${connectionStatus === 'connected' ? 'bg-green-500' : 'bg-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: connectionStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), connectionStatus === 'disconnected' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600 dark:text-red-400\",\n            children: \"Connection issues detected. Some operations may fail.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: `px-4 py-2 font-medium flex items-center ${activeTab === 'import' ? theme === 'dark' ? 'text-blue-300 border-b-2 border-blue-300' : 'text-blue-600 border-b-2 border-blue-600' : theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n            onClick: () => setActiveTab('import'),\n            \"aria-selected\": activeTab === 'import',\n            children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), \"Import Users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: `px-4 py-2 font-medium flex items-center ${activeTab === 'export' ? theme === 'dark' ? 'text-blue-300 border-b-2 border-blue-300' : 'text-blue-600 border-b-2 border-blue-600' : theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n            onClick: () => setActiveTab('export'),\n            \"aria-selected\": activeTab === 'export',\n            children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 15\n            }, this), \"Export Users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this), activeTab === 'import' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Import Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-[300px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2 font-medium\",\n                  htmlFor: \"file-upload\",\n                  children: \"Upload File\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `flex-1 border rounded-lg p-2 cursor-pointer flex items-center ${theme === 'dark' ? 'border-gray-600 bg-gray-900 hover:bg-gray-800' : 'border-gray-300 bg-white hover:bg-gray-50'} transition`,\n                    htmlFor: \"file-upload\",\n                    children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 575,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Choose File\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"file-upload\",\n                      type: \"file\",\n                      accept: \".json,.csv\",\n                      onChange: handleFileUpload,\n                      disabled: processing,\n                      className: \"hidden\",\n                      \"aria-label\": \"Upload JSON or CSV file\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 577,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => {\n                      if (users.length > 0) {\n                        downloadFile(JSON.stringify(users, null, 2), 'converted_users.json', 'application/json');\n                      } else {\n                        appendLog('‚ö†Ô∏è No users loaded to convert', 'warning');\n                      }\n                    },\n                    className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'} text-white transition`,\n                    \"aria-label\": \"Convert loaded users to JSON\",\n                    children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 25\n                    }, this), \"Convert to JSON\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 587,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: downloadSampleJson,\n                      className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'} text-white transition`,\n                      title: \"Download JSON sample\",\n                      \"aria-label\": \"Download JSON sample\",\n                      children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 612,\n                        columnNumber: 27\n                      }, this), \"JSON\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 604,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: downloadSampleCSV,\n                      className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'} text-white transition`,\n                      title: \"Download CSV template\",\n                      \"aria-label\": \"Download CSV template\",\n                      children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 623,\n                        columnNumber: 27\n                      }, this), \"CSV\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 21\n                }, this), users.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2 text-sm text-green-500\",\n                  children: [\"\\u2705 \", users.length, \" users loaded\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-[300px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2 font-medium\",\n                  htmlFor: \"batch-size\",\n                  children: \"Batch Settings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"number\",\n                  value: batchSize,\n                  onChange: ({\n                    value\n                  }) => setBatchSize(Number(value)),\n                  className: `w-full border rounded-lg p-2 ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                  \"aria-label\": \"Select batch size for user import\",\n                  children: [1, 2, 5, 10].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: [size, \" users/batch\"]\n                  }, size, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: processUsers,\n              disabled: processing || users.length === 0 || connectionStatus !== 'connected',\n              className: `px-4 py-2 rounded-lg flex items-center ${processing || users.length === 0 || connectionStatus !== 'connected' ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-500'} text-white transition`,\n              \"aria-label\": \"Start user import\",\n              children: [/*#__PURE__*/_jsxDEV(FiPlay, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this), \"Start Import\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: stopProcessing,\n              disabled: !processing,\n              className: `px-4 py-2 rounded-lg flex items-center ${!processing ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-500'} text-white transition`,\n              \"aria-label\": \"Stop user import\",\n              children: [/*#__PURE__*/_jsxDEV(FiSquare, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this), \"Stop\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this), processing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden dark:bg-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-600 h-2.5 transition-all duration-300 dark:bg-blue-400\",\n              style: {\n                width: `${progress}%`\n              },\n              role: \"progressbar\",\n              \"aria-valuenow\": progress,\n              \"aria-valuemin\": 0,\n              \"aria-valuemax\": 100\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: \"Activity Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-60 overflow-y-auto p-3 rounded ${theme === 'dark' ? 'bg-black' : 'bg-gray-200'}`,\n              role: \"log\",\n              children: log.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-center ${theme === 'dark' ? 'text-gray-500' : 'text-gray-600'}`,\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-sm space-y-1\",\n                children: [log.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: getLogColor(entry.type),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70 mr-2\",\n                    children: [\"[\", entry.timestamp, \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 27\n                  }, this), entry.message]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: logEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this), activeTab === 'export' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Export Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: exportUsersToCSV,\n              disabled: processing,\n              className: `px-4 py-2 rounded-lg flex items-center ${processing ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-500'} text-white transition`,\n              \"aria-label\": \"Fetch users from DHIS2\",\n              children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 19\n              }, this), \"Fetch Users from DHIS2\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 15\n          }, this), exportedUsers.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-3\",\n                children: \"Filter & Export\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block mb-1\",\n                    htmlFor: \"username-filter\",\n                    children: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 748,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"username-filter\",\n                    type: \"text\",\n                    placeholder: \"Filter by username\",\n                    value: usernameFilter,\n                    onChange: ({\n                      value\n                    }) => setUsernameFilter(value),\n                    className: `w-full p-2 rounded border ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                    \"aria-label\": \"Filter users by username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block mb-1\",\n                    htmlFor: \"orgunit-filter\",\n                    children: \"Organization Unit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"orgunit-filter\",\n                    type: \"text\",\n                    placeholder: \"Filter by org unit path\",\n                    value: orgUnitFilter,\n                    onChange: ({\n                      value\n                    }) => setOrgUnitFilter(value),\n                    className: `w-full p-2 rounded border ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                    \"aria-label\": \"Filter users by organization unit path\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2\",\n                  children: \"Columns to Export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-2\",\n                  children: availableColumns.map(col => /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"flex items-center space-x-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: selectedColumns.includes(col.id),\n                      onChange: () => toggleColumn(col.id),\n                      className: \"rounded\",\n                      \"aria-label\": `Toggle ${col.label} column`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 782,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: col.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 789,\n                      columnNumber: 29\n                    }, this)]\n                  }, col.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 781,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => exportFilteredUsers('csv'),\n                  className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-green-700 hover:bg-green-600' : 'bg-green-600 hover:bg-green-500'} text-white transition`,\n                  \"aria-label\": \"Export filtered users as CSV\",\n                  children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 803,\n                    columnNumber: 25\n                  }, this), \"Export as CSV\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => exportFilteredUsers('json'),\n                  className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-600 hover:bg-yellow-500'} text-white transition`,\n                  \"aria-label\": \"Export filtered users as JSON\",\n                  children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 813,\n                    columnNumber: 25\n                  }, this), \"Export as JSON\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 806,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-3\",\n                children: [\"User Data (\", filteredUsers.length, \" users)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                    children: /*#__PURE__*/_jsxDEV(TableRow, {\n                      children: [selectedColumns.includes('id') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 825,\n                        columnNumber: 64\n                      }, this), selectedColumns.includes('name') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 826,\n                        columnNumber: 66\n                      }, this), selectedColumns.includes('username') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"Username\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 827,\n                        columnNumber: 70\n                      }, this), selectedColumns.includes('userGroups') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"Groups\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 828,\n                        columnNumber: 72\n                      }, this), selectedColumns.includes('userRoles') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"Roles\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 829,\n                        columnNumber: 71\n                      }, this), selectedColumns.includes('lastLogin') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"Last Login\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 830,\n                        columnNumber: 71\n                      }, this), selectedColumns.includes('schoolPath') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"School Path\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 831,\n                        columnNumber: 72\n                      }, this), selectedColumns.includes('schoolUID') && /*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: \"School UID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 832,\n                        columnNumber: 71\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 824,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 823,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                    children: currentUsers.map((user, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n                      children: [selectedColumns.includes('id') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 838,\n                        columnNumber: 66\n                      }, this), selectedColumns.includes('name') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 839,\n                        columnNumber: 68\n                      }, this), selectedColumns.includes('username') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 840,\n                        columnNumber: 72\n                      }, this), selectedColumns.includes('userGroups') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.userGroups\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 841,\n                        columnNumber: 74\n                      }, this), selectedColumns.includes('userRoles') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.userRoles\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 842,\n                        columnNumber: 73\n                      }, this), selectedColumns.includes('lastLogin') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.lastLogin\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 843,\n                        columnNumber: 73\n                      }, this), selectedColumns.includes('schoolPath') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.schoolPath\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 844,\n                        columnNumber: 74\n                      }, this), selectedColumns.includes('schoolUID') && /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: user.schoolUID\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 845,\n                        columnNumber: 73\n                      }, this)]\n                    }, idx, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 837,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 21\n              }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handlePrevPage,\n                  disabled: currentPage === 1,\n                  className: `px-4 py-2 rounded ${currentPage === 1 ? 'opacity-50 cursor-not-allowed' : theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'} transition`,\n                  \"aria-label\": \"Previous page\",\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-label\": `Page ${currentPage} of ${totalPages}`,\n                  children: [\"Page \", currentPage, \" of \", totalPages]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 868,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleNextPage,\n                  disabled: currentPage === totalPages,\n                  className: `px-4 py-2 rounded ${currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'} transition`,\n                  \"aria-label\": \"Next page\",\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: \"Activity Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-60 overflow-y-auto p-3 rounded ${theme === 'dark' ? 'bg-black' : 'bg-gray-200'}`,\n              role: \"log\",\n              children: log.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-center ${theme === 'dark' ? 'text-gray-500' : 'text-gray-600'}`,\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 897,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-sm space-y-1\",\n                children: [log.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: getLogColor(entry.type),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70 mr-2\",\n                    children: [\"[\", entry.timestamp, \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 27\n                  }, this), entry.message]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: logEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 910,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 903,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 13\n        }, this), showHelp && /*#__PURE__*/_jsxDEV(Layer, {\n          onClick: () => setShowHelp(false),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-6 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-bold mb-4\",\n              children: \"Help\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-4\",\n              children: \"The DHIS2 User Manager allows you to import and export user data in JSON or CSV formats. Upload a file to import users, or fetch and filter users from the DHIS2 server for export.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowHelp(false),\n              className: `px-4 py-2 rounded ${theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'} text-white transition`,\n              \"aria-label\": \"Close help modal\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 919,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 484,\n    columnNumber: 5\n  }, this);\n};\n_s(MyApp, \"g/r9TRCmG6uH1oIlRFNYsiau5cY=\", false, function () {\n  return [useDataEngine, useAlertBar];\n});\n_c = MyApp;\nexport default init({\n  apiVersion: 37\n})(MyApp);\nvar _c;\n$RefreshReg$(_c, \"MyApp\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","init","useDataEngine","useAlertBar","CircularLoader","Button","Input","Table","TableBody","TableCell","TableRow","TableHead","TableHeader","Layer","axios","FiUpload","FiDownload","FiPlay","FiSquare","FiSun","FiMoon","FiHelpCircle","FiUsers","convertCSVtoJSON","jsxDEV","_jsxDEV","Fragment","_Fragment","defaults","timeout","maxContentLength","maxBodyLength","BASE_URL","process","env","REACT_APP_BASE_URL","HEADERS","REACT_APP_API_TOKEN","SAMPLE_USERS","firstName","surname","username","password","userRoles","id","organisationUnits","dataViewOrganisationUnits","teiSearchOrganisationUnits","userGroups","MyApp","_s","users","setUsers","log","setLog","processing","setProcessing","progress","setProgress","exportedUsers","setExportedUsers","usernameFilter","setUsernameFilter","orgUnitFilter","setOrgUnitFilter","theme","setTheme","currentPage","setCurrentPage","activeTab","setActiveTab","batchSize","setBatchSize","connectionStatus","setConnectionStatus","selectedColumns","setSelectedColumns","showHelp","setShowHelp","shouldStop","logEndRef","engine","add","addAlert","usersPerPage","availableColumns","label","appendLog","message","type","timestamp","Date","toLocaleTimeString","prevLog","newLog","slice","critical","apiRequest","config","attempt","maxRetries","baseDelay","response","headers","baseURL","error","retryDelay","Math","pow","Promise","resolve","setTimeout","retries","checkConnection","query","resource","interval","setInterval","clearInterval","_logEndRef$current","current","scrollIntoView","behavior","handleFileUpload","e","_e$target$files","file","target","files","reader","FileReader","onloadstart","onload","event","name","endsWith","convertedUsers","result","length","data","JSON","parse","Array","isArray","Error","onerror","readAsText","downloadFile","content","filename","mimeType","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","downloadSampleJson","stringify","downloadSampleCSV","join","sampleRow","map","field","csvContent","validateUser","user","_user$userRoles","_user$organisationUni","getUserId","_res$users","_res$users$","res","params","filter","fields","updateUser","payload","role","ou","group","mutate","createUser","code","processBatch","batch","promises","all","processUsers","invalidUsers","successCount","errorCount","totalBatches","ceil","i","floor","batchResults","Boolean","x","round","stopProcessing","exportUsersToCSV","seenIds","Set","usersList","nextPage","paging","pageSize","page","pager","_user$userGroups","_user$userRoles2","uid","has","g","r","lastLogin","schoolPaths","schoolUIDs","forEach","_ou$ancestors","ancestors","path","a","push","schoolPath","schoolUID","size","exportFilteredUsers","format","filtered","u","toLowerCase","includes","extension","col","rows","value","toISOString","toggleTheme","filteredUsers","indexOfLastUser","indexOfFirstUser","currentUsers","totalPages","handleNextPage","handlePrevPage","toggleColumn","columnId","prev","getLogColor","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","htmlFor","accept","onChange","disabled","title","Number","style","width","entry","ref","placeholder","checked","idx","_c","apiVersion","$RefreshReg$"],"sources":["C:/Users/nongu/Documents/Projects/dhis2-user-manager/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { init, useDataEngine, useAlertBar } from '@dhis2/app-runtime';\nimport { CircularLoader, Button, Input, Table, TableBody, TableCell, TableRow, TableHead, TableHeader, Layer } from '@dhis2/ui';\nimport axios from 'axios';\nimport { FiUpload, FiDownload, FiPlay, FiSquare, FiSun, FiMoon, FiHelpCircle, FiUsers } from 'react-icons/fi';\nimport { convertCSVtoJSON } from './convertCSVtoJSON';\n\n// Configure axios defaults\naxios.defaults.timeout = 30000; // 30 second timeout\naxios.defaults.maxContentLength = 50 * 1024 * 1024; // 50MB\naxios.defaults.maxBodyLength = 50 * 1024 * 1024; // 50MB\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': `ApiToken ${process.env.REACT_APP_API_TOKEN}`,\n};\n\n// Sample user data for download\nconst SAMPLE_USERS = [\n  {\n    firstName: \"PVT\",\n    surname: \"Royal\",\n    username: 12020407,\n    password: \"Egor123@\",\n    userRoles: [{ id: \"KBkjSGFKSKI\" }, { id: \"oO6BBApzmHZ\" }],\n    organisationUnits: [{ id: \"wRQIw3NMW29\" }],\n    dataViewOrganisationUnits: [{ id: \"wRQIw3NMW29\" }],\n    teiSearchOrganisationUnits: [{ id: \"wRQIw3NMW29\" }],\n    userGroups: [{ id: \"U8WuGyxfFFp\" }],\n  },\n  {\n    firstName: \"PVT\",\n    surname: \"Dominion\",\n    username: 12020409,\n    password: \"Egor123@\",\n    userRoles: [{ id: \"KBkjSGFKSKI\" }, { id: \"oO6BBApzmHZ\" }],\n    organisationUnits: [{ id: \"AVEyJypVCjJ\" }],\n    dataViewOrganisationUnits: [{ id: \"AVEyJypVCjJ\" }],\n    teiSearchOrganisationUnits: [{ id: \"AVEyJypVCjJ\" }],\n    userGroups: [{ id: \"U8WuGyxfFFp\" }],\n  },\n];\n\nconst MyApp = () => {\n  const [users, setUsers] = useState([]);\n  const [log, setLog] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeTab, setActiveTab] = useState('import');\n  const [batchSize, setBatchSize] = useState(2);\n  const [connectionStatus, setConnectionStatus] = useState('checking...');\n  const [selectedColumns, setSelectedColumns] = useState([\n    'id', 'name', 'username', 'userGroups', 'userRoles', 'lastLogin', 'schoolPath',\n  ]);\n  const [showHelp, setShowHelp] = useState(false);\n\n  const shouldStop = useRef(false);\n  const logEndRef = useRef(null);\n  const engine = useDataEngine();\n  const { add: addAlert } = useAlertBar();\n\n  const usersPerPage = 100;\n  const availableColumns = [\n    { id: 'id', label: 'ID' },\n    { id: 'name', label: 'Name' },\n    { id: 'username', label: 'Username' },\n    { id: 'userGroups', label: 'Groups' },\n    { id: 'userRoles', label: 'Roles' },\n    { id: 'lastLogin', label: 'Last Login' },\n    { id: 'schoolPath', label: 'School Path' },\n    { id: 'schoolUID', label: 'School UID' },\n  ];\n\n  const appendLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLog(prevLog => {\n      const newLog = [...prevLog, { message, type, timestamp }];\n      return newLog.slice(-100);\n    });\n    if (type === 'error') addAlert({ message, critical: true });\n  };\n\n  const apiRequest = useCallback(async (config, attempt = 1) => {\n    const maxRetries = 3;\n    const baseDelay = 1000;\n    \n    try {\n      const response = await axios({\n        ...config,\n        timeout: 30000,\n        headers: { ...HEADERS, ...config.headers },\n        baseURL: BASE_URL,\n      });\n      return response;\n    } catch (error) {\n      if (attempt >= maxRetries) throw error;\n      const retryDelay = baseDelay * Math.pow(2, attempt - 1);\n      appendLog(`‚ö†Ô∏è Attempt ${attempt} failed, retrying in ${retryDelay/1000}s...`, 'warning');\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n      return apiRequest(config, attempt + 1);\n    }\n  }, [appendLog]);\n\n  useEffect(() => {\n    let retries = 0;\n    const maxRetries = 3;\n    \n    const checkConnection = async () => {\n      try {\n        await engine.query({ resource: 'system/ping' });\n        setConnectionStatus('connected');\n        retries = 0;\n      } catch {\n        retries++;\n        if (retries >= maxRetries) {\n          setConnectionStatus('disconnected');\n          appendLog('‚ö†Ô∏è Failed to connect to server after retries', 'warning');\n        } else {\n          setTimeout(checkConnection, 1000 * Math.pow(2, retries));\n        }\n      }\n    };\n    \n    checkConnection();\n    const interval = setInterval(checkConnection, 30000);\n    return () => clearInterval(interval);\n  }, [engine]);\n\n  useEffect(() => {\n    logEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [log]);\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onloadstart = () => appendLog('‚è≥ Loading user file...', 'info');\n    reader.onload = event => {\n      try {\n        if (file.name.endsWith('.csv')) {\n          const convertedUsers = convertCSVtoJSON(event.target.result);\n          if (convertedUsers) {\n            setUsers(convertedUsers);\n            appendLog(`‚úÖ Loaded and converted ${convertedUsers.length} users from CSV`, 'success');\n          }\n        } else {\n          const data = JSON.parse(event.target.result);\n          if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n          setUsers(data);\n          appendLog(`‚úÖ Loaded ${data.length} users from JSON`, 'success');\n        }\n      } catch (error) {\n        appendLog(`‚ùå Error parsing file: ${error.message}`, 'error');\n      }\n    };\n    reader.onerror = () => appendLog('‚ùå Failed to read file', 'error');\n    reader.readAsText(file);\n  };\n\n  const downloadFile = (content, filename, mimeType) => {\n    try {\n      const blob = new Blob([content], { type: mimeType });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog(`‚úÖ Downloaded ${filename}`, 'success');\n    } catch (error) {\n      appendLog(`‚ùå Download failed: ${error.message}`, 'error');\n    }\n  };\n\n  const downloadSampleJson = () => {\n    downloadFile(JSON.stringify(SAMPLE_USERS, null, 2), 'dhis2_users_sample.json', 'application/json');\n  };\n\n  const downloadSampleCSV = () => {\n    const headers = [\n      'firstName',\n      'surname',\n      'username',\n      'password',\n      'userRoles',\n      'organisationUnits',\n      'dataViewOrganisationUnits',\n      'teiSearchOrganisationUnits',\n      'userGroups',\n    ].join(',');\n\n    const sampleRow = [\n      'JSS',\n      'Com',\n      '11010051',\n      'Abakaliki123@',\n      '[{\"id\": \"KBkjSGFKSKI\"},{\"id\": \"oO6BBApzmHZ\"}]',\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      '[{\"id\": \"Ca67o1mgiPn\"}]',\n    ].map(field => `\"${field}\"`).join(',');\n\n    const csvContent = [headers, sampleRow].join('\\n');\n    downloadFile(csvContent, 'dhis2_users_template.csv', 'text/csv;charset=utf-8;');\n  };\n\n  const validateUser = (user) => {\n    if (!user.username) return 'Username is required';\n    if (!user.userRoles?.length) return 'At least one user role is required';\n    if (!user.organisationUnits?.length) return 'At least one organization unit is required';\n    return null;\n  };\n\n  const getUserId = async (username) => {\n    try {\n      const res = await engine.query({\n        resource: 'users',\n        params: { filter: `username:eq:${username}`, fields: 'id' },\n      });\n      return res.users?.[0]?.id || null;\n    } catch (error) {\n      appendLog(`‚ö†Ô∏è Error fetching user ID for ${username}: ${error.message}`, 'warning');\n      return null;\n    }\n  };\n\n  const updateUser = async (user, id) => {\n    try {\n      const payload = {\n        firstName: user.firstName,\n        surname: user.surname,\n        username: user.username,\n        userRoles: user.userRoles.map(role => ({ id: role.id })),\n        organisationUnits: user.organisationUnits.map(ou => ({ id: ou.id })),\n        dataViewOrganisationUnits: user.dataViewOrganisationUnits.map(ou => ({ id: ou.id })),\n        teiSearchOrganisationUnits: user.teiSearchOrganisationUnits.map(ou => ({ id: ou.id })),\n        userGroups: user.userGroups.map(group => ({ id: group.id })),\n      };\n\n      await engine.mutate({\n        resource: `users/${id}`,\n        type: 'update',\n        data: payload,\n      });\n      \n      appendLog(`üîÑ Updated user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      appendLog(`‚ùå Error updating user ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n\n  const createUser = async (user) => {\n    try {\n      await engine.mutate({\n        resource: 'users',\n        type: 'create',\n        data: user,\n      });\n      appendLog(`üÜï Created user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      if (error.code === 409) {\n        const id = await getUserId(user.username);\n        if (id) {\n          appendLog(`‚ö†Ô∏è Conflict: Updating user ${user.username}`, 'warning');\n          return await updateUser(user, id);\n        } else {\n          appendLog(`‚ùå Conflict and ID not found: ${user.username}`, 'error');\n          return false;\n        }\n      }\n      appendLog(`‚ùå Error for ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n\n  const processBatch = async (batch) => {\n    const promises = batch.map(async (user) => {\n      try {\n        const id = await getUserId(user.username);\n        return id ? await updateUser(user, id) : await createUser(user);\n      } catch (error) {\n        appendLog(`‚ùå Failed to process ${user.username}: ${error.message}`, 'error');\n        return false;\n      }\n    });\n    return Promise.all(promises);\n  };\n\n  const processUsers = async () => {\n    const invalidUsers = users.filter(user => validateUser(user));\n    if (invalidUsers.length) {\n      appendLog(`‚ö†Ô∏è Invalid users detected: ${invalidUsers.length}`, 'warning');\n      return;\n    }\n\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    \n    let successCount = 0;\n    let errorCount = 0;\n    const totalBatches = Math.ceil(users.length / batchSize);\n\n    appendLog(`üöÄ Starting import of ${users.length} users (${totalBatches} batches)`, 'info');\n    \n    for (let i = 0; i < users.length && !shouldStop.current; i += batchSize) {\n      const batch = users.slice(i, i + batchSize);\n      appendLog(`üî® Processing batch ${Math.floor(i/batchSize) + 1}/${totalBatches}`, 'info');\n      \n      const batchResults = await processBatch(batch);\n      successCount += batchResults.filter(Boolean).length;\n      errorCount += batchResults.filter(x => !x).length;\n      \n      setProgress(Math.round(((i + batchSize) / users.length) * 100));\n      \n      if (shouldStop.current) break;\n    }\n    \n    appendLog(\n      `üéâ Process ${shouldStop.current ? 'stopped' : 'completed'}. Success: ${successCount}, Errors: ${errorCount}`,\n      errorCount > 0 ? 'warning' : 'success'\n    );\n    \n    setProcessing(false);\n  };\n\n  const stopProcessing = () => {\n    shouldStop.current = true;\n    appendLog(\"‚èπ Stopping process after current batch completes...\", 'warning');\n  };\n\n  const exportUsersToCSV = async () => {\n    appendLog(\"üì¶ Starting DHIS2 user export...\", 'info');\n    setProcessing(true);\n\n    try {\n      let seenIds = new Set();\n      let usersList = [];\n      let nextPage = 1;\n\n      while (true) {\n        const response = await engine.query({\n          resource: 'users',\n          params: {\n            fields: 'id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]',\n            paging: true,\n            pageSize: 1000,\n            page: nextPage,\n          },\n        });\n\n        const users = response.users || [];\n        const pager = response.pager || {};\n\n        for (const user of users) {\n          const uid = user.id;\n          if (!uid || seenIds.has(uid)) continue;\n          seenIds.add(uid);\n\n          const userGroups = user.userGroups?.map(g => g.name).join(\"; \") || \"\";\n          const userRoles = user.userRoles?.map(r => r.name).join(\"; \") || \"\";\n          const lastLogin = user.lastLogin || \"\";\n\n          let schoolPaths = [];\n          let schoolUIDs = [];\n\n          (user.organisationUnits || []).forEach(ou => {\n            if (ou.ancestors?.length === 4) {\n              const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n              schoolPaths.push(path);\n              schoolUIDs.push(ou.id || \"\");\n            }\n          });\n\n          usersList.push({\n            id: uid,\n            name: user.name || '',\n            username: user.username || '',\n            userGroups,\n            userRoles,\n            lastLogin,\n            schoolPath: schoolPaths.join(\" | \"),\n            schoolUID: schoolUIDs.join(\" | \"),\n          });\n        }\n\n        appendLog(`‚úÖ Page ${pager.page} fetched. Total: ${seenIds.size}`, 'success');\n        if (!pager.nextPage) break;\n        nextPage++;\n      }\n\n      setExportedUsers(usersList);\n      appendLog(`üéâ Export complete. Total users: ${seenIds.size}`, 'success');\n    } catch (error) {\n      appendLog(`‚ùå Export failed: ${error.message}`, 'error');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const exportFilteredUsers = (format = 'csv') => {\n    const filtered = exportedUsers.filter(u =>\n      u.username.toLowerCase().includes(usernameFilter.toLowerCase()) &&\n      u.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase())\n    );\n\n    if (filtered.length === 0) {\n      appendLog('‚ö†Ô∏è No users match your filters', 'warning');\n      return;\n    }\n\n    try {\n      let content, mimeType, extension;\n      \n      if (format === 'csv') {\n        const headers = availableColumns\n          .filter(col => selectedColumns.includes(col.id))\n          .map(col => col.label);\n        \n        const rows = filtered.map(user => \n          selectedColumns.map(col => {\n            const value = user[col] || '';\n            return value.includes(',') ? `\"${value}\"` : value;\n          }).join(',')\n        );\n        \n        content = [headers.join(','), ...rows].join('\\n');\n        mimeType = 'text/csv;charset=utf-8;';\n        extension = 'csv';\n      } else {\n        content = JSON.stringify(filtered, null, 2);\n        mimeType = 'application/json';\n        extension = 'json';\n      }\n\n      downloadFile(content, `dhis2_users_${new Date().toISOString().slice(0,10)}.${extension}`, mimeType);\n    } catch (error) {\n      appendLog(`‚ùå Export error: ${error.message}`, 'error');\n    }\n  };\n\n  const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');\n  const filteredUsers = exportedUsers.filter(user =>\n    user.username.toLowerCase().includes(usernameFilter.toLowerCase()) &&\n    user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase())\n  );\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n\n  const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\n  const handlePrevPage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\n\n  const toggleColumn = (columnId) => {\n    setSelectedColumns(prev => \n      prev.includes(columnId) ? prev.filter(id => id !== columnId) : [...prev, columnId]\n    );\n  };\n\n  const getLogColor = (type) => {\n    switch (type) {\n      case 'error': return 'text-red-400';\n      case 'warning': return 'text-yellow-400';\n      case 'success': return 'text-green-400';\n      default: return 'text-gray-300';\n    }\n  };\n\n  if (!engine) return <Layer><CircularLoader /></Layer>;\n\n  return (\n    <div className={`min-h-screen p-4 ${theme === 'dark' ? 'dark bg-gray-900' : 'bg-gray-50'}`}>\n      <div className=\"max-w-7xl mx-auto rounded-2xl shadow-lg overflow-hidden\">\n        <div className={`p-6 ${theme === 'dark' ? 'bg-gray-800' : 'bg-blue-600'} text-white`}>\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3\">\n              <FiUsers className=\"text-2xl\" />\n              <h1 className=\"text-2xl font-bold\">DHIS2 User Manager</h1>\n            </div>\n            <div className=\"flex space-x-4\">\n              <Button\n                onClick={toggleTheme}\n                className=\"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\"\n                aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n              >\n                {theme === 'light' ? <FiMoon /> : <FiSun />}\n                <span>{theme === 'light' ? 'Dark' : 'Light'} Mode</span>\n              </Button>\n              <Button\n                onClick={() => setShowHelp(true)}\n                className=\"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\"\n                aria-label=\"Open help\"\n              >\n                <FiHelpCircle />\n                <span>Help</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <div className={`p-6 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}`}>\n          <div className=\"mb-4 p-2 rounded-md bg-blue-50 border border-blue-200 dark:bg-gray-800 dark:border-gray-700\">\n            <div className=\"flex items-center\">\n              <span className=\"font-medium mr-2\">Server Status:</span>\n              <span className={`inline-block w-3 h-3 rounded-full mr-2 ${\n                connectionStatus === 'connected' ? 'bg-green-500' : 'bg-red-500'\n              }`}></span>\n              <span>{connectionStatus}</span>\n            </div>\n            {connectionStatus === 'disconnected' && (\n              <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                Connection issues detected. Some operations may fail.\n              </p>\n            )}\n          </div>\n\n          <div className=\"flex border-b mb-6\">\n            <Button\n              className={`px-4 py-2 font-medium flex items-center ${\n                activeTab === 'import' \n                  ? theme === 'dark' \n                    ? 'text-blue-300 border-b-2 border-blue-300' \n                    : 'text-blue-600 border-b-2 border-blue-600' \n                  : theme === 'dark' \n                    ? 'text-gray-400' \n                    : 'text-gray-600'\n              }`}\n              onClick={() => setActiveTab('import')}\n              aria-selected={activeTab === 'import'}\n            >\n              <FiUpload className=\"mr-2\" />\n              Import Users\n            </Button>\n            <Button\n              className={`px-4 py-2 font-medium flex items-center ${\n                activeTab === 'export' \n                  ? theme === 'dark' \n                    ? 'text-blue-300 border-b-2 border-blue-300' \n                    : 'text-blue-600 border-b-2 border-blue-600' \n                  : theme === 'dark' \n                    ? 'text-gray-400' \n                    : 'text-gray-600'\n              }`}\n              onClick={() => setActiveTab('export')}\n              aria-selected={activeTab === 'export'}\n            >\n              <FiDownload className=\"mr-2\" />\n              Export Users\n            </Button>\n          </div>\n\n          {activeTab === 'import' && (\n            <div className=\"space-y-6\">\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h2 className=\"text-lg font-semibold mb-3\">Import Users</h2>\n                <div className=\"flex flex-wrap gap-4\">\n                  <div className=\"flex-1 min-w-[300px]\">\n                    <label className=\"block mb-2 font-medium\" htmlFor=\"file-upload\">Upload File</label>\n                    <div className=\"flex items-center space-x-2\">\n                      <label className={`flex-1 border rounded-lg p-2 cursor-pointer flex items-center ${\n                        theme === 'dark' ? 'border-gray-600 bg-gray-900 hover:bg-gray-800' : 'border-gray-300 bg-white hover:bg-gray-50'\n                      } transition`} htmlFor=\"file-upload\">\n                        <FiUpload className=\"mr-2\" />\n                        <span>Choose File</span>\n                        <input \n                          id=\"file-upload\"\n                          type=\"file\" \n                          accept=\".json,.csv\" \n                          onChange={handleFileUpload} \n                          disabled={processing}\n                          className=\"hidden\" \n                          aria-label=\"Upload JSON or CSV file\"\n                        />\n                      </label>\n                      <Button \n                        onClick={() => {\n                          if (users.length > 0) {\n                            downloadFile(JSON.stringify(users, null, 2), 'converted_users.json', 'application/json');\n                          } else {\n                            appendLog('‚ö†Ô∏è No users loaded to convert', 'warning');\n                          }\n                        }}\n                        className={`px-4 py-2 rounded-lg flex items-center ${\n                          theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'\n                        } text-white transition`}\n                        aria-label=\"Convert loaded users to JSON\"\n                      >\n                        <FiDownload className=\"mr-2\" />\n                        Convert to JSON\n                      </Button>\n                      <div className=\"flex space-x-2\">\n                        <Button \n                          onClick={downloadSampleJson}\n                          className={`px-4 py-2 rounded-lg flex items-center ${\n                            theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'\n                          } text-white transition`}\n                          title=\"Download JSON sample\"\n                          aria-label=\"Download JSON sample\"\n                        >\n                          <FiDownload className=\"mr-2\" />\n                          JSON\n                        </Button>\n                        <Button \n                          onClick={downloadSampleCSV}\n                          className={`px-4 py-2 rounded-lg flex items-center ${\n                            theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'\n                          } text-white transition`}\n                          title=\"Download CSV template\"\n                          aria-label=\"Download CSV template\"\n                        >\n                          <FiDownload className=\"mr-2\" />\n                          CSV\n                        </Button>\n                      </div>\n                    </div>\n                    {users.length > 0 && (\n                      <p className=\"mt-2 text-sm text-green-500\">\n                        ‚úÖ {users.length} users loaded\n                      </p>\n                    )}\n                  </div>\n\n                  <div className=\"flex-1 min-w-[300px]\">\n                    <label className=\"block mb-2 font-medium\" htmlFor=\"batch-size\">Batch Settings</label>\n                    <Input\n                      type=\"number\"\n                      value={batchSize}\n                      onChange={({ value }) => setBatchSize(Number(value))}\n                      className={`w-full border rounded-lg p-2 ${\n                        theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                      }`}\n                      aria-label=\"Select batch size for user import\"\n                    >\n                      {[1, 2, 5, 10].map(size => (\n                        <option key={size} value={size}>{size} users/batch</option>\n                      ))}\n                    </Input>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-4\">\n                <Button \n                  onClick={processUsers} \n                  disabled={processing || users.length === 0 || connectionStatus !== 'connected'}\n                  className={`px-4 py-2 rounded-lg flex items-center ${\n                    processing || users.length === 0 || connectionStatus !== 'connected'\n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-green-600 hover:bg-green-500'\n                  } text-white transition`}\n                  aria-label=\"Start user import\"\n                >\n                  <FiPlay className=\"mr-2\" />\n                  Start Import\n                </Button>\n                <Button \n                  onClick={stopProcessing} \n                  disabled={!processing}\n                  className={`px-4 py-2 rounded-lg flex items-center ${\n                    !processing \n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-red-600 hover:bg-red-500'\n                  } text-white transition`}\n                  aria-label=\"Stop user import\"\n                >\n                  <FiSquare className=\"mr-2\" />\n                  Stop\n                </Button>\n              </div>\n\n              {processing && (\n                <div className=\"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden dark:bg-gray-700\">\n                  <div \n                    className=\"bg-blue-600 h-2.5 transition-all duration-300 dark:bg-blue-400\" \n                    style={{ width: `${progress}%` }} \n                    role=\"progressbar\"\n                    aria-valuenow={progress}\n                    aria-valuemin={0}\n                    aria-valuemax={100}\n                  />\n                </div>\n              )}\n\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h3 className=\"font-medium mb-2\">Activity Log</h3>\n                <div className={`h-60 overflow-y-auto p-3 rounded ${\n                  theme === 'dark' ? 'bg-black' : 'bg-gray-200'\n                }`} role=\"log\">\n                  {log.length === 0 ? (\n                    <p className={`text-center ${\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-600'\n                    }`}>\n                      No activity yet\n                    </p>\n                  ) : (\n                    <div className=\"font-mono text-sm space-y-1\">\n                      {log.map((entry, i) => (\n                        <div key={i} className={getLogColor(entry.type)}>\n                          <span className=\"opacity-70 mr-2\">[{entry.timestamp}]</span>\n                          {entry.message}\n                        </div>\n                      ))}\n                      <div ref={logEndRef} />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'export' && (\n            <div className=\"space-y-6\">\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h2 className=\"text-lg font-semibold mb-3\">Export Users</h2>\n                <Button \n                  onClick={exportUsersToCSV} \n                  disabled={processing}\n                  className={`px-4 py-2 rounded-lg flex items-center ${\n                    processing \n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-blue-600 hover:bg-blue-500'\n                  } text-white transition`}\n                  aria-label=\"Fetch users from DHIS2\"\n                >\n                  <FiDownload className=\"mr-2\" />\n                  Fetch Users from DHIS2\n                </Button>\n              </div>\n\n              {exportedUsers.length > 0 && (\n                <>\n                  <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                    <h3 className=\"font-medium mb-3\">Filter & Export</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                      <div>\n                        <label className=\"block mb-1\" htmlFor=\"username-filter\">Username</label>\n                        <Input\n                          id=\"username-filter\"\n                          type=\"text\"\n                          placeholder=\"Filter by username\"\n                          value={usernameFilter}\n                          onChange={({ value }) => setUsernameFilter(value)}\n                          className={`w-full p-2 rounded border ${\n                            theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                          }`}\n                          aria-label=\"Filter users by username\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block mb-1\" htmlFor=\"orgunit-filter\">Organization Unit</label>\n                        <Input\n                          id=\"orgunit-filter\"\n                          type=\"text\"\n                          placeholder=\"Filter by org unit path\"\n                          value={orgUnitFilter}\n                          onChange={({ value }) => setOrgUnitFilter(value)}\n                          className={`w-full p-2 rounded border ${\n                            theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                          }`}\n                          aria-label=\"Filter users by organization unit path\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"mb-4\">\n                      <label className=\"block mb-2\">Columns to Export</label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {availableColumns.map(col => (\n                          <label key={col.id} className=\"flex items-center space-x-1\">\n                            <input\n                              type=\"checkbox\"\n                              checked={selectedColumns.includes(col.id)}\n                              onChange={() => toggleColumn(col.id)}\n                              className=\"rounded\"\n                              aria-label={`Toggle ${col.label} column`}\n                            />\n                            <span>{col.label}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-3\">\n                      <Button \n                        onClick={() => exportFilteredUsers('csv')}\n                        className={`px-4 py-2 rounded-lg flex items-center ${\n                          theme === 'dark' ? 'bg-green-700 hover:bg-green-600' : 'bg-green-600 hover:bg-green-500'\n                        } text-white transition`}\n                        aria-label=\"Export filtered users as CSV\"\n                      >\n                        <FiDownload className=\"mr-2\" />\n                        Export as CSV\n                      </Button>\n                      <Button \n                        onClick={() => exportFilteredUsers('json')}\n                        className={`px-4 py-2 rounded-lg flex items-center ${\n                          theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-600 hover:bg-yellow-500'\n                        } text-white transition`}\n                        aria-label=\"Export filtered users as JSON\"\n                      >\n                        <FiDownload className=\"mr-2\" />\n                        Export as JSON\n                      </Button>\n                    </div>\n                  </div>\n\n                  <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                    <h3 className=\"font-medium mb-3\">User Data ({filteredUsers.length} users)</h3>\n                    <div className=\"overflow-x-auto\">\n                      <Table>\n                        <TableHead>\n                          <TableRow>\n                            {selectedColumns.includes('id') && <TableHeader>ID</TableHeader>}\n                            {selectedColumns.includes('name') && <TableHeader>Name</TableHeader>}\n                            {selectedColumns.includes('username') && <TableHeader>Username</TableHeader>}\n                            {selectedColumns.includes('userGroups') && <TableHeader>Groups</TableHeader>}\n                            {selectedColumns.includes('userRoles') && <TableHeader>Roles</TableHeader>}\n                            {selectedColumns.includes('lastLogin') && <TableHeader>Last Login</TableHeader>}\n                            {selectedColumns.includes('schoolPath') && <TableHeader>School Path</TableHeader>}\n                            {selectedColumns.includes('schoolUID') && <TableHeader>School UID</TableHeader>}\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {currentUsers.map((user, idx) => (\n                            <TableRow key={idx}>\n                              {selectedColumns.includes('id') && <TableCell>{user.id}</TableCell>}\n                              {selectedColumns.includes('name') && <TableCell>{user.name}</TableCell>}\n                              {selectedColumns.includes('username') && <TableCell>{user.username}</TableCell>}\n                              {selectedColumns.includes('userGroups') && <TableCell>{user.userGroups}</TableCell>}\n                              {selectedColumns.includes('userRoles') && <TableCell>{user.userRoles}</TableCell>}\n                              {selectedColumns.includes('lastLogin') && <TableCell>{user.lastLogin}</TableCell>}\n                              {selectedColumns.includes('schoolPath') && <TableCell>{user.schoolPath}</TableCell>}\n                              {selectedColumns.includes('schoolUID') && <TableCell>{user.schoolUID}</TableCell>}\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    </div>\n\n                    {totalPages > 1 && (\n                      <div className=\"mt-4 flex justify-between items-center\">\n                        <Button \n                          onClick={handlePrevPage} \n                          disabled={currentPage === 1}\n                          className={`px-4 py-2 rounded ${\n                            currentPage === 1 \n                              ? 'opacity-50 cursor-not-allowed' \n                              : theme === 'dark' \n                                ? 'bg-gray-600 hover:bg-gray-500' \n                                : 'bg-gray-200 hover:bg-gray-300'\n                          } transition`}\n                          aria-label=\"Previous page\"\n                        >\n                          Previous\n                        </Button>\n                        <span aria-label={`Page ${currentPage} of ${totalPages}`}>\n                          Page {currentPage} of {totalPages}\n                        </span>\n                        <Button \n                          onClick={handleNextPage} \n                          disabled={currentPage === totalPages}\n                          className={`px-4 py-2 rounded ${\n                            currentPage === totalPages \n                              ? 'opacity-50 cursor-not-allowed' \n                              : theme === 'dark' \n                                ? 'bg-gray-600 hover:bg-gray-500' \n                                : 'bg-gray-200 hover:bg-gray-300'\n                          } transition`}\n                          aria-label=\"Next page\"\n                        >\n                          Next\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h3 className=\"font-medium mb-2\">Activity Log</h3>\n                <div className={`h-60 overflow-y-auto p-3 rounded ${\n                  theme === 'dark' ? 'bg-black' : 'bg-gray-200'\n                }`} role=\"log\">\n                  {log.length === 0 ? (\n                    <p className={`text-center ${\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-600'\n                    }`}>\n                      No activity yet\n                    </p>\n                  ) : (\n                    <div className=\"font-mono text-sm space-y-1\">\n                      {log.map((entry, i) => (\n                        <div key={i} className={getLogColor(entry.type)}>\n                          <span className=\"opacity-70 mr-2\">[{entry.timestamp}]</span>\n                          {entry.message}\n                        </div>\n                      ))}\n                      <div ref={logEndRef} />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showHelp && (\n            <Layer onClick={() => setShowHelp(false)}>\n              <div className={`p-6 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\n                <h2 className=\"text-lg font-bold mb-4\">Help</h2>\n                <p className=\"mb-4\">\n                  The DHIS2 User Manager allows you to import and export user data in JSON or CSV formats.\n                  Upload a file to import users, or fetch and filter users from the DHIS2 server for export.\n                </p>\n                <Button \n                  onClick={() => setShowHelp(false)}\n                  className={`px-4 py-2 rounded ${\n                    theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'\n                  } text-white transition`}\n                  aria-label=\"Close help modal\"\n                >\n                  Close\n                </Button>\n              </div>\n            </Layer>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default init({ apiVersion: 37 })(MyApp);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}