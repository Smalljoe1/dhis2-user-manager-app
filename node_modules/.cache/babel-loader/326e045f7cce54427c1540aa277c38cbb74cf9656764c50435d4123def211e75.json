{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nongu\\\\Documents\\\\Projects\\\\dhis2-user-manager\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': 'ApiToken d2pat_DAULytLK7GUBSlfknZ6ffVxIfifC8T9c3885349470'\n};\nfunction App() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('light');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loadingExport, setLoadingExport] = useState(true);\n  const usersPerPage = 10;\n  const shouldStop = useRef(false);\n  useEffect(() => {\n    document.documentElement.classList.toggle('dark', theme === 'dark');\n  }, [theme]);\n  useEffect(() => {\n    exportUsers();\n  }, []);\n  const exportUsers = async () => {\n    const seenIds = new Set();\n    let usersList = [];\n    try {\n      var _firstPage$data$pager;\n      const firstPage = await axios.get(`${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=1000&page=1`, {\n        headers: HEADERS\n      });\n      const total = ((_firstPage$data$pager = firstPage.data.pager) === null || _firstPage$data$pager === void 0 ? void 0 : _firstPage$data$pager.total) || 1;\n      const pageSize = 1000;\n      const totalPages = Math.ceil(total / pageSize);\n      const pageUrls = [];\n      for (let i = 1; i <= totalPages; i++) {\n        pageUrls.push(`${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=${pageSize}&page=${i}`);\n      }\n      const chunkSize = 5;\n      for (let i = 0; i < pageUrls.length; i += chunkSize) {\n        const chunk = pageUrls.slice(i, i + chunkSize);\n        const responses = await Promise.all(chunk.map(url => axios.get(url, {\n          headers: HEADERS\n        })));\n        responses.forEach(res => {\n          (res.data.users || []).forEach(user => {\n            var _user$userGroups, _user$userRoles;\n            const uid = user.id;\n            if (!uid || seenIds.has(uid)) return;\n            seenIds.add(uid);\n            const userGroups = ((_user$userGroups = user.userGroups) === null || _user$userGroups === void 0 ? void 0 : _user$userGroups.map(g => g.name).join(\"; \")) || \"\";\n            const userRoles = ((_user$userRoles = user.userRoles) === null || _user$userRoles === void 0 ? void 0 : _user$userRoles.map(r => r.name).join(\"; \")) || \"\";\n            const lastLogin = user.lastLogin || \"\";\n            let schoolPaths = [];\n            let schoolUIDs = [];\n            (user.organisationUnits || []).forEach(ou => {\n              var _ou$ancestors;\n              if (((_ou$ancestors = ou.ancestors) === null || _ou$ancestors === void 0 ? void 0 : _ou$ancestors.length) === 4) {\n                const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n                schoolPaths.push(path);\n                schoolUIDs.push(ou.id || \"\");\n              }\n            });\n            usersList.push({\n              id: uid,\n              name: user.name || '',\n              username: user.username || '',\n              userGroups,\n              userRoles,\n              lastLogin,\n              schoolPath: schoolPaths.join(\" | \"),\n              schoolUID: schoolUIDs.join(\" | \")\n            });\n          });\n        });\n        const completed = Math.min(i + chunk.length, totalPages);\n        setProgress(Math.round(completed / totalPages * 100));\n      }\n    } catch (error) {\n      console.error(\"Error fetching users:\", error);\n    }\n    setExportedUsers(usersList);\n    setLoadingExport(false);\n    setProgress(100);\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.onload = event => {\n      try {\n        const data = JSON.parse(event.target.result);\n        setUsers(data);\n      } catch (err) {\n        alert(\"Invalid JSON file.\");\n      }\n    };\n    reader.readAsText(file);\n  };\n  const processUsers = async () => {\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    for (let i = 0; i < users.length; i++) {\n      if (shouldStop.current) break;\n      const user = users[i];\n      // Simulate user update/create here\n      await new Promise(resolve => setTimeout(resolve, 20)); // Simulated delay\n      setProgress(Math.round((i + 1) / users.length * 100));\n    }\n    setProcessing(false);\n  };\n  const filteredUsers = exportedUsers.filter(user => user.username.toLowerCase().includes(usernameFilter.toLowerCase()) && user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase()));\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${theme === 'dark' ? 'dark' : ''} min-h-screen p-6`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto rounded-2xl shadow p-6 bg-gray-100 text-black dark:bg-gray-900 dark:text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-blue-700 dark:text-blue-300\",\n          children: \"DHIS2 User Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTheme(theme === 'light' ? 'dark' : 'light'),\n          className: \"text-sm text-gray-600 dark:text-gray-300 hover:underline\",\n          children: [\"Toggle \", theme === 'light' ? 'Dark' : 'Light', \" Mode\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), loadingExport ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center h-96\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-12 w-12 border-4 border-blue-500 border-t-transparent border-solid rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-lg font-medium\",\n          children: [\"Loading Users... \", progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".json\",\n          onChange: handleFileUpload,\n          className: \"mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: processUsers,\n            disabled: users.length === 0 || processing,\n            className: `px-4 py-2 rounded ${users.length === 0 || processing ? 'bg-green-600 opacity-50 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700 text-white'}`,\n            children: \"Start Import\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => shouldStop.current = true,\n            disabled: !processing,\n            className: `px-4 py-2 rounded ${!processing ? 'bg-red-500 opacity-50 cursor-not-allowed' : 'bg-red-500 hover:bg-red-600 text-white'}`,\n            children: \"Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"iCkvBB9dGMnNAPBdtdfu9MiPWTA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","BASE_URL","HEADERS","App","_s","users","setUsers","processing","setProcessing","progress","setProgress","exportedUsers","setExportedUsers","usernameFilter","setUsernameFilter","orgUnitFilter","setOrgUnitFilter","theme","setTheme","currentPage","setCurrentPage","loadingExport","setLoadingExport","usersPerPage","shouldStop","document","documentElement","classList","toggle","exportUsers","seenIds","Set","usersList","_firstPage$data$pager","firstPage","get","headers","total","data","pager","pageSize","totalPages","Math","ceil","pageUrls","i","push","chunkSize","length","chunk","slice","responses","Promise","all","map","url","forEach","res","user","_user$userGroups","_user$userRoles","uid","id","has","add","userGroups","g","name","join","userRoles","r","lastLogin","schoolPaths","schoolUIDs","organisationUnits","ou","_ou$ancestors","ancestors","path","a","username","schoolPath","schoolUID","completed","min","round","error","console","handleFileUpload","e","file","target","files","reader","FileReader","onload","event","JSON","parse","result","err","alert","readAsText","processUsers","current","resolve","setTimeout","filteredUsers","filter","toLowerCase","includes","indexOfLastUser","indexOfFirstUser","currentUsers","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","accept","onChange","disabled","_c","$RefreshReg$"],"sources":["C:/Users/nongu/Documents/Projects/dhis2-user-manager/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\n\nconst BASE_URL = \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': 'ApiToken d2pat_DAULytLK7GUBSlfknZ6ffVxIfifC8T9c3885349470'\n};\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('light');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loadingExport, setLoadingExport] = useState(true);\n  const usersPerPage = 10;\n  const shouldStop = useRef(false);\n\n  useEffect(() => {\n    document.documentElement.classList.toggle('dark', theme === 'dark');\n  }, [theme]);\n\n  useEffect(() => {\n    exportUsers();\n  }, []);\n\n  const exportUsers = async () => {\n    const seenIds = new Set();\n    let usersList = [];\n\n    try {\n      const firstPage = await axios.get(`${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=1000&page=1`, { headers: HEADERS });\n      const total = firstPage.data.pager?.total || 1;\n      const pageSize = 1000;\n      const totalPages = Math.ceil(total / pageSize);\n\n      const pageUrls = [];\n      for (let i = 1; i <= totalPages; i++) {\n        pageUrls.push(`${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=${pageSize}&page=${i}`);\n      }\n\n      const chunkSize = 5;\n      for (let i = 0; i < pageUrls.length; i += chunkSize) {\n        const chunk = pageUrls.slice(i, i + chunkSize);\n        const responses = await Promise.all(chunk.map(url => axios.get(url, { headers: HEADERS })));\n\n        responses.forEach(res => {\n          (res.data.users || []).forEach(user => {\n            const uid = user.id;\n            if (!uid || seenIds.has(uid)) return;\n            seenIds.add(uid);\n\n            const userGroups = user.userGroups?.map(g => g.name).join(\"; \") || \"\";\n            const userRoles = user.userRoles?.map(r => r.name).join(\"; \") || \"\";\n            const lastLogin = user.lastLogin || \"\";\n\n            let schoolPaths = [];\n            let schoolUIDs = [];\n\n            (user.organisationUnits || []).forEach(ou => {\n              if (ou.ancestors?.length === 4) {\n                const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n                schoolPaths.push(path);\n                schoolUIDs.push(ou.id || \"\");\n              }\n            });\n\n            usersList.push({\n              id: uid,\n              name: user.name || '',\n              username: user.username || '',\n              userGroups,\n              userRoles,\n              lastLogin,\n              schoolPath: schoolPaths.join(\" | \"),\n              schoolUID: schoolUIDs.join(\" | \")\n            });\n          });\n        });\n\n        const completed = Math.min(i + chunk.length, totalPages);\n        setProgress(Math.round((completed / totalPages) * 100));\n      }\n    } catch (error) {\n      console.error(\"Error fetching users:\", error);\n    }\n\n    setExportedUsers(usersList);\n    setLoadingExport(false);\n    setProgress(100);\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.onload = event => {\n      try {\n        const data = JSON.parse(event.target.result);\n        setUsers(data);\n      } catch (err) {\n        alert(\"Invalid JSON file.\");\n      }\n    };\n\n    reader.readAsText(file);\n  };\n\n  const processUsers = async () => {\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n\n    for (let i = 0; i < users.length; i++) {\n      if (shouldStop.current) break;\n      const user = users[i];\n      // Simulate user update/create here\n      await new Promise(resolve => setTimeout(resolve, 20)); // Simulated delay\n      setProgress(Math.round(((i + 1) / users.length) * 100));\n    }\n\n    setProcessing(false);\n  };\n\n  const filteredUsers = exportedUsers.filter(user =>\n    user.username.toLowerCase().includes(usernameFilter.toLowerCase()) &&\n    user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase())\n  );\n\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n\n  return (\n    <div className={`${theme === 'dark' ? 'dark' : ''} min-h-screen p-6`}>\n      <div className=\"max-w-6xl mx-auto rounded-2xl shadow p-6 bg-gray-100 text-black dark:bg-gray-900 dark:text-white\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h1 className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">DHIS2 User Manager</h1>\n          <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')} className=\"text-sm text-gray-600 dark:text-gray-300 hover:underline\">\n            Toggle {theme === 'light' ? 'Dark' : 'Light'} Mode\n          </button>\n        </div>\n\n        {loadingExport ? (\n          <div className=\"flex flex-col items-center justify-center h-96\">\n            <div className=\"h-12 w-12 border-4 border-blue-500 border-t-transparent border-solid rounded-full animate-spin\"></div>\n            <p className=\"mt-4 text-lg font-medium\">Loading Users... {progress}%</p>\n          </div>\n        ) : (\n          <>\n            <input\n              type=\"file\"\n              accept=\".json\"\n              onChange={handleFileUpload}\n              className=\"mb-4\"\n            />\n\n            <div className=\"flex flex-wrap gap-4 mb-4\">\n              <button\n                onClick={processUsers}\n                disabled={users.length === 0 || processing}\n                className={`px-4 py-2 rounded ${users.length === 0 || processing ? 'bg-green-600 opacity-50 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700 text-white'}`}\n              >\n                Start Import\n              </button>\n\n              <button\n                onClick={() => shouldStop.current = true}\n                disabled={!processing}\n                className={`px-4 py-2 rounded ${!processing ? 'bg-red-500 opacity-50 cursor-not-allowed' : 'bg-red-500 hover:bg-red-600 text-white'}`}\n              >\n                Stop\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}