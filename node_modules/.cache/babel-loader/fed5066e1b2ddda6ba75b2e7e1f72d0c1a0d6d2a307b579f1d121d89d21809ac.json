{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nongu\\\\Documents\\\\Projects\\\\dhis2-user-manager\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { FiUpload, FiDownload, FiPlay, FiSquare, FiSun, FiMoon, FiHelpCircle, FiUsers } from 'react-icons/fi';\n\n// Configure axios defaults\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\naxios.defaults.timeout = 30000; // 30 second timeout\naxios.defaults.maxContentLength = 50 * 1024 * 1024; // 50MB\naxios.defaults.maxBodyLength = 50 * 1024 * 1024; // 50MB\n\nconst BASE_URL = \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': 'ApiToken d2pat_DAULytLK7GUBSlfknZ6ffVxIfifC8T9c3885349470'\n};\n\n// Sample user data for download\nconst SAMPLE_USERS = [{\n  \"firstName\": \"PVT\",\n  \"surname\": \"Royal\",\n  \"username\": 12020407,\n  \"password\": \"Egor123@\",\n  \"userRoles\": [{\n    \"id\": \"KBkjSGFKSKI\"\n  }, {\n    \"id\": \"oO6BBApzmHZ\"\n  }],\n  \"organisationUnits\": [{\n    \"id\": \"wRQIw3NMW29\"\n  }],\n  \"dataViewOrganisationUnits\": [{\n    \"id\": \"wRQIw3NMW29\"\n  }],\n  \"teiSearchOrganisationUnits\": [{\n    \"id\": \"wRQIw3NMW29\"\n  }],\n  \"userGroups\": [{\n    \"id\": \"U8WuGyxfFFp\"\n  }]\n}, {\n  \"firstName\": \"PVT\",\n  \"surname\": \"Dominion\",\n  \"username\": 12020409,\n  \"password\": \"Egor123@\",\n  \"userRoles\": [{\n    \"id\": \"KBkjSGFKSKI\"\n  }, {\n    \"id\": \"oO6BBApzmHZ\"\n  }],\n  \"organisationUnits\": [{\n    \"id\": \"AVEyJypVCjJ\"\n  }],\n  \"dataViewOrganisationUnits\": [{\n    \"id\": \"AVEyJypVCjJ\"\n  }],\n  \"teiSearchOrganisationUnits\": [{\n    \"id\": \"AVEyJypVCjJ\"\n  }],\n  \"userGroups\": [{\n    \"id\": \"U8WuGyxfFFp\"\n  }]\n}];\nfunction App() {\n  _s();\n  // State declarations\n  const [users, setUsers] = useState([]);\n  const [log, setLog] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeTab, setActiveTab] = useState('import');\n  const [batchSize, setBatchSize] = useState(2);\n  const [connectionStatus, setConnectionStatus] = useState('checking...');\n  const [selectedColumns, setSelectedColumns] = useState(['id', 'name', 'username', 'userGroups', 'userRoles', 'lastLogin', 'schoolPath']);\n  const shouldStop = useRef(false);\n  const logEndRef = useRef(null);\n  const usersPerPage = 100;\n  const availableColumns = [{\n    id: 'id',\n    label: 'ID'\n  }, {\n    id: 'name',\n    label: 'Name'\n  }, {\n    id: 'username',\n    label: 'Username'\n  }, {\n    id: 'userGroups',\n    label: 'Groups'\n  }, {\n    id: 'userRoles',\n    label: 'Roles'\n  }, {\n    id: 'lastLogin',\n    label: 'Last Login'\n  }, {\n    id: 'schoolPath',\n    label: 'School Path'\n  }, {\n    id: 'schoolUID',\n    label: 'School UID'\n  }];\n\n  // Define appendLog first\n  const appendLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLog(prevLog => [...prevLog, {\n      message,\n      type,\n      timestamp\n    }]);\n  };\n\n  // Enhanced API request with retries\n  const apiRequest = async (config, attempt = 1) => {\n    const maxRetries = 3;\n    const baseDelay = 1000;\n    try {\n      const response = await axios({\n        ...config,\n        timeout: 30000,\n        headers: {\n          ...HEADERS,\n          ...config.headers\n        }\n      });\n      return response;\n    } catch (error) {\n      if (attempt >= maxRetries) throw error;\n      const retryDelay = baseDelay * Math.pow(2, attempt - 1);\n      appendLog(`⚠️ Attempt ${attempt} failed, retrying in ${retryDelay / 1000}s...`, 'warning');\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n      return apiRequest(config, attempt + 1);\n    }\n  };\n\n  // Connection monitoring\n  useEffect(() => {\n    const checkConnection = async () => {\n      try {\n        await apiRequest({\n          method: 'get',\n          url: `${BASE_URL}/system/ping`\n        });\n        setConnectionStatus('connected');\n      } catch {\n        setConnectionStatus('disconnected');\n      }\n    };\n    checkConnection();\n    const interval = setInterval(checkConnection, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Auto-scroll log to bottom\n  useEffect(() => {\n    var _logEndRef$current;\n    (_logEndRef$current = logEndRef.current) === null || _logEndRef$current === void 0 ? void 0 : _logEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [log]);\n\n  // File upload handler\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onloadstart = () => appendLog('⏳ Loading user file...', 'info');\n    reader.onload = event => {\n      try {\n        if (file.name.endsWith('.csv')) {\n          // Parse CSV file\n          const csvData = event.target.result;\n          const lines = csvData.split('\\n').filter(line => line.trim());\n          if (lines.length < 2) throw new Error('CSV file must contain at least one data row');\n          const headers = lines[0].split(',').map(h => h.trim());\n          const users = [];\n          for (let i = 1; i < lines.length; i++) {\n            const line = lines[i];\n            const values = line.split(',').map(v => v.trim().replace(/^\"|\"$/g, ''));\n            const user = {};\n            headers.forEach((header, idx) => {\n              if (values[idx]) {\n                try {\n                  // Try to parse array fields as JSON, fallback to raw value\n                  user[header] = header.includes('Roles') || header.includes('Units') || header.includes('Groups') ? safeJsonParse(values[idx]) : values[idx];\n                } catch (error) {\n                  user[header] = values[idx];\n                }\n              }\n            });\n            users.push(user);\n          }\n          setUsers(users);\n          appendLog(`✅ Loaded ${users.length} users from CSV`, 'success');\n        } else {\n          // Parse JSON file\n          const data = JSON.parse(event.target.result);\n          if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n          setUsers(data);\n          appendLog(`✅ Loaded ${data.length} users from JSON`, 'success');\n        }\n      } catch (error) {\n        appendLog(`❌ Error parsing file: ${error.message}`, 'error');\n      }\n    };\n    reader.onerror = () => appendLog('❌ Failed to read file', 'error');\n    reader.readAsText(file);\n  };\n\n  // Helper function for safe JSON parsing\n  const safeJsonParse = str => {\n    try {\n      return JSON.parse(str);\n    } catch (e) {\n      // If parsing fails, try to handle common CSV array formats\n      if (str.startsWith('[') && str.endsWith(']')) {\n        return str.slice(1, -1).split(';').map(item => ({\n          id: item.trim()\n        }));\n      }\n      return str; // Return as-is if we can't parse\n    }\n  };\n\n  // Sample JSON download\n  const downloadSampleJson = () => {\n    try {\n      const blob = new Blob([JSON.stringify(SAMPLE_USERS, null, 2)], {\n        type: 'application/json'\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'dhis2_users_sample.json';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog('✅ Downloaded sample JSON file', 'success');\n    } catch (error) {\n      appendLog(`❌ Error downloading sample: ${error.message}`, 'error');\n    }\n  };\n  // Convert CSV to JSON function\n  const convertCSVtoJSON = csvData => {\n    try {\n      const lines = csvData.split('\\n').filter(line => line.trim());\n      if (lines.length < 2) throw new Error('CSV file must contain at least one data row');\n      const headers = lines[0].split('\\t').map(h => h.trim());\n      const users = [];\n      for (let i = 1; i < lines.length; i++) {\n        const line = lines[i];\n        const values = line.split('\\t').map(v => v.trim().replace(/^\"|\"$/g, ''));\n        const user = {};\n        headers.forEach((header, idx) => {\n          if (values[idx]) {\n            // Special handling for JSON array fields\n            if (header.includes('Roles') || header.includes('Units') || header.includes('Groups')) {\n              try {\n                user[header] = JSON.parse(values[idx].replace(/'/g, '\"'));\n              } catch (e) {\n                // Fallback for malformed JSON\n                user[header] = values[idx].startsWith('[') ? values[idx].slice(1, -1).split(';').map(id => ({\n                  id: id.trim()\n                })) : [{\n                  id: values[idx]\n                }];\n              }\n            } else {\n              user[header] = values[idx];\n            }\n          }\n        });\n        users.push({\n          firstName: user.firstName,\n          surname: user.surname,\n          username: user.username,\n          password: user.password,\n          userRoles: user.userRoles || [],\n          organisationUnits: user.organisationUnits || [],\n          dataViewOrganisationUnits: user.dataViewOrganisationUnits || [],\n          teiSearchOrganisationUnits: user.teiSearchOrganisationUnits || [],\n          userGroups: user.userGroups || []\n        });\n      }\n      return users;\n    } catch (error) {\n      appendLog(`❌ CSV to JSON conversion failed: ${error.message}`, 'error');\n      return null;\n    }\n  };\n\n  // Sample CSV template download\n  const downloadSampleCSV = () => {\n    try {\n      // CSV header row\n      const headers = ['firstName', 'surname', 'username', 'password', 'userRoles', 'organisationUnits', 'dataViewOrganisationUnits', 'teiSearchOrganisationUnits', 'userGroups'].join(',');\n\n      // Sample data rows (empty except for one example row)\n      const sampleRow = ['JSS',\n      // firstName\n      'Com',\n      // surname\n      '11010051',\n      // username\n      'Abakaliki123@',\n      // password\n      '[{\"id\": \"KBkjSGFKSKI\"},{\"id\": \"oO6BBApzmHZ\"}]',\n      // userRoles\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      // organisationUnits\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      // dataViewOrganisationUnits\n      '[{\"id\": \"wMcSLrAHchs\"}]',\n      // teiSearchOrganisationUnits\n      '[{\"id\": \"Ca67o1mgiPn\"}]' // userGroups\n      ].map(field => `\"${field}\"`).join(',');\n\n      // Combine header and sample row\n      const csvContent = [headers, sampleRow].join('\\n');\n      const blob = new Blob([csvContent], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'dhis2_users_template.csv';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog('✅ Downloaded sample CSV template', 'success');\n    } catch (error) {\n      appendLog(`❌ Error downloading CSV template: ${error.message}`, 'error');\n    }\n  };\n\n  // User management functions\n  const getUserId = async username => {\n    try {\n      var _res$data$users, _res$data$users$;\n      const res = await apiRequest({\n        method: 'get',\n        url: `${BASE_URL}/users?filter=username:eq:${username}&fields=id`\n      });\n      return ((_res$data$users = res.data.users) === null || _res$data$users === void 0 ? void 0 : (_res$data$users$ = _res$data$users[0]) === null || _res$data$users$ === void 0 ? void 0 : _res$data$users$.id) || null;\n    } catch (error) {\n      appendLog(`⚠️ Error fetching user ID for ${username}: ${error.message}`, 'warning');\n      return null;\n    }\n  };\n  const updateUser = async (user, id) => {\n    try {\n      // Create clean copy without password\n      const payload = {\n        firstName: user.firstName,\n        surname: user.surname,\n        username: user.username,\n        userRoles: user.userRoles.map(role => ({\n          id: role.id\n        })),\n        organisationUnits: user.organisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        dataViewOrganisationUnits: user.dataViewOrganisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        teiSearchOrganisationUnits: user.teiSearchOrganisationUnits.map(ou => ({\n          id: ou.id\n        })),\n        userGroups: user.userGroups.map(group => ({\n          id: group.id\n        }))\n      };\n\n      // Debug log - remove after testing\n      console.log('Update Payload:', JSON.stringify(payload, null, 2));\n      const response = await apiRequest({\n        method: 'put',\n        url: `${BASE_URL}/users/${id}`,\n        data: payload\n      });\n      appendLog(`🔄 Updated user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      appendLog(`❌ Error updating user ${user.username}: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message}`, 'error');\n      return false;\n    }\n  };\n  const createUser = async user => {\n    try {\n      await apiRequest({\n        method: 'post',\n        url: `${BASE_URL}/users`,\n        data: user\n      });\n      appendLog(`🆕 Created user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      var _error$response2;\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 409) {\n        const id = await getUserId(user.username);\n        if (id) {\n          appendLog(`⚠️ Conflict: Updating user ${user.username}`, 'warning');\n          return await updateUser(user, id);\n        } else {\n          appendLog(`❌ Conflict and ID not found: ${user.username}`, 'error');\n          return false;\n        }\n      }\n      appendLog(`❌ Error for ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n\n  // Processing functions\n  const processBatch = async batch => {\n    const results = [];\n    for (const user of batch) {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 500));\n        const id = await getUserId(user.username);\n        const result = id ? await updateUser(user, id) : await createUser(user);\n        results.push(result);\n      } catch (error) {\n        appendLog(`❌ Failed to process ${user.username}: ${error.message}`, 'error');\n        results.push(false);\n      }\n    }\n    return results;\n  };\n  const processUsers = async () => {\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    let successCount = 0;\n    let errorCount = 0;\n    const totalBatches = Math.ceil(users.length / batchSize);\n    appendLog(`🚀 Starting import of ${users.length} users (${totalBatches} batches)`, 'info');\n    for (let i = 0; i < users.length && !shouldStop.current; i += batchSize) {\n      const batch = users.slice(i, i + batchSize);\n      appendLog(`🔨 Processing batch ${Math.floor(i / batchSize) + 1}/${totalBatches}`, 'info');\n      const batchResults = await processBatch(batch);\n      successCount += batchResults.filter(Boolean).length;\n      errorCount += batchResults.filter(x => !x).length;\n      setProgress(Math.round((i + batchSize) / users.length * 100));\n      if (shouldStop.current) break;\n    }\n    appendLog(`🎉 Process ${shouldStop.current ? 'stopped' : 'completed'}. Success: ${successCount}, Errors: ${errorCount}`, errorCount > 0 ? 'warning' : 'success');\n    setProcessing(false);\n  };\n  const stopProcessing = () => {\n    shouldStop.current = true;\n    appendLog(\"⏹ Stopping process after current batch completes...\", 'warning');\n  };\n\n  // Export functions\n  const exportUsersToCSV = async () => {\n    appendLog(\"📦 Starting DHIS2 user export...\", 'info');\n    setProcessing(true);\n    try {\n      let seenIds = new Set();\n      let usersList = [];\n      let nextUrl = `${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=1000`;\n      while (nextUrl) {\n        const response = await apiRequest({\n          method: 'get',\n          url: nextUrl\n        });\n        if (response.status !== 200) break;\n        const data = response.data;\n        const users = data.users || [];\n        const pager = data.pager || {};\n        for (const user of users) {\n          var _user$userGroups, _user$userRoles;\n          const uid = user.id;\n          if (!uid || seenIds.has(uid)) continue;\n          seenIds.add(uid);\n          const userGroups = ((_user$userGroups = user.userGroups) === null || _user$userGroups === void 0 ? void 0 : _user$userGroups.map(g => g.name).join(\"; \")) || \"\";\n          const userRoles = ((_user$userRoles = user.userRoles) === null || _user$userRoles === void 0 ? void 0 : _user$userRoles.map(r => r.name).join(\"; \")) || \"\";\n          const lastLogin = user.lastLogin || \"\";\n          let schoolPaths = [];\n          let schoolUIDs = [];\n          (user.organisationUnits || []).forEach(ou => {\n            var _ou$ancestors;\n            if (((_ou$ancestors = ou.ancestors) === null || _ou$ancestors === void 0 ? void 0 : _ou$ancestors.length) === 4) {\n              const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n              schoolPaths.push(path);\n              schoolUIDs.push(ou.id || \"\");\n            }\n          });\n          usersList.push({\n            id: uid,\n            name: user.name || '',\n            username: user.username || '',\n            userGroups,\n            userRoles,\n            lastLogin,\n            schoolPath: schoolPaths.join(\" | \"),\n            schoolUID: schoolUIDs.join(\" | \")\n          });\n        }\n        appendLog(`✅ Page ${pager.page} fetched. Total: ${seenIds.size}`, 'success');\n        nextUrl = pager.nextPage || null;\n      }\n      setExportedUsers(usersList);\n      appendLog(`🎉 Export complete. Total users: ${seenIds.size}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Export failed: ${error.message}`, 'error');\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const exportFilteredUsers = (format = 'csv') => {\n    const filtered = exportedUsers.filter(u => u.username.toLowerCase().includes(usernameFilter.toLowerCase()) && u.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase()));\n    if (filtered.length === 0) {\n      appendLog('⚠️ No users match your filters', 'warning');\n      return;\n    }\n    try {\n      let content, mimeType, extension;\n      if (format === 'csv') {\n        const headers = availableColumns.filter(col => selectedColumns.includes(col.id)).map(col => col.label);\n        const rows = filtered.map(user => selectedColumns.map(col => {\n          const value = user[col] || '';\n          return value.includes(',') ? `\"${value}\"` : value;\n        }).join(','));\n        content = [headers.join(','), ...rows].join('\\n');\n        mimeType = 'text/csv;charset=utf-8;';\n        extension = 'csv';\n      } else {\n        content = JSON.stringify(filtered, null, 2);\n        mimeType = 'application/json';\n        extension = 'json';\n      }\n      const blob = new Blob([content], {\n        type: mimeType\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.setAttribute('download', `dhis2_users_${new Date().toISOString().slice(0, 10)}.${extension}`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog(`✅ Exported ${filtered.length} users as ${format.toUpperCase()}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Export error: ${error.message}`, 'error');\n    }\n  };\n\n  // UI helpers\n  const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');\n  const filteredUsers = exportedUsers.filter(user => user.username.toLowerCase().includes(usernameFilter.toLowerCase()) && user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase()));\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n  const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\n  const handlePrevPage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\n  const toggleColumn = columnId => {\n    setSelectedColumns(prev => prev.includes(columnId) ? prev.filter(id => id !== columnId) : [...prev, columnId]);\n  };\n  const getLogColor = type => {\n    switch (type) {\n      case 'error':\n        return 'text-red-400';\n      case 'warning':\n        return 'text-yellow-400';\n      case 'success':\n        return 'text-green-400';\n      default:\n        return 'text-gray-300';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen p-4 ${theme === 'dark' ? 'dark bg-gray-900' : 'bg-gray-50'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto rounded-2xl shadow-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-6 ${theme === 'dark' ? 'bg-gray-800' : 'bg-blue-600'} text-white`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(FiUsers, {\n              className: \"text-2xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: \"DHIS2 User Manager\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleTheme,\n              className: \"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\",\n              children: [theme === 'light' ? /*#__PURE__*/_jsxDEV(FiMoon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(FiSun, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [theme === 'light' ? 'Dark' : 'Light', \" Mode\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\",\n              children: [/*#__PURE__*/_jsxDEV(FiHelpCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-6 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-2 rounded-md bg-blue-50 border border-blue-200 dark:bg-gray-800 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium mr-2\",\n              children: \"Server Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `inline-block w-3 h-3 rounded-full mr-2 ${connectionStatus === 'connected' ? 'bg-green-500' : 'bg-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: connectionStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 13\n          }, this), connectionStatus === 'disconnected' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600 dark:text-red-400\",\n            children: \"Connection issues detected. Some operations may fail.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 font-medium flex items-center ${activeTab === 'import' ? theme === 'dark' ? 'text-blue-300 border-b-2 border-blue-300' : 'text-blue-600 border-b-2 border-blue-600' : theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n            onClick: () => setActiveTab('import'),\n            children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 15\n            }, this), \"Import Users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 font-medium flex items-center ${activeTab === 'export' ? theme === 'dark' ? 'text-blue-300 border-b-2 border-blue-300' : 'text-blue-600 border-b-2 border-blue-600' : theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`,\n            onClick: () => setActiveTab('export'),\n            children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this), \"Export Users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 11\n        }, this), activeTab === 'import' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Import Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-[300px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2 font-medium\",\n                  children: \"Upload File\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `flex-1 border rounded-lg p-2 cursor-pointer flex items-center ${theme === 'dark' ? 'border-gray-600 bg-gray-900 hover:bg-gray-800' : 'border-gray-300 bg-white hover:bg-gray-50'} transition`,\n                    children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 706,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Choose File\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 707,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \".json,.csv\",\n                      onChange: handleFileUpload,\n                      disabled: processing,\n                      className: \"hidden\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 708,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 703,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (users.length > 0) {\n                        const jsonData = JSON.stringify(users, null, 2);\n                        const blob = new Blob([jsonData], {\n                          type: 'application/json'\n                        });\n                        const url = URL.createObjectURL(blob);\n                        const a = document.createElement('a');\n                        a.href = url;\n                        a.download = 'converted_users.json';\n                        document.body.appendChild(a);\n                        a.click();\n                        document.body.removeChild(a);\n                        appendLog(`✅ Converted ${users.length} users to JSON`, 'success');\n                      } else {\n                        appendLog('⚠️ No users loaded to convert', 'warning');\n                      }\n                    },\n                    className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'} text-white transition`,\n                    children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                      className: \"mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 738,\n                      columnNumber: 25\n                    }, this), \"Convert to JSON\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 717,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: downloadSampleJson,\n                      className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'} text-white transition`,\n                      title: \"Download JSON sample\",\n                      children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 749,\n                        columnNumber: 27\n                      }, this), \"JSON\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 742,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: downloadSampleCSV,\n                      className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'} text-white transition`,\n                      title: \"Download CSV template\",\n                      children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 759,\n                        columnNumber: 27\n                      }, this), \"CSV\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 752,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 741,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 21\n                }, this), users.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2 text-sm text-green-500\",\n                  children: [\"\\u2705 \", users.length, \" users loaded\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-[300px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2 font-medium\",\n                  children: \"Batch Settings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 772,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: batchSize,\n                  onChange: e => setBatchSize(Number(e.target.value)),\n                  className: `w-full border rounded-lg p-2 ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`,\n                  children: [1, 2, 5, 10].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: [size, \" users/batch\"]\n                  }, size, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 781,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: processUsers,\n              disabled: processing || users.length === 0 || connectionStatus !== 'connected',\n              className: `px-4 py-2 rounded-lg flex items-center ${processing || users.length === 0 || connectionStatus !== 'connected' ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-500'} text-white transition`,\n              children: [/*#__PURE__*/_jsxDEV(FiPlay, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 19\n              }, this), \"Start Import\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: stopProcessing,\n              disabled: !processing,\n              className: `px-4 py-2 rounded-lg flex items-center ${!processing ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-500'} text-white transition`,\n              children: [/*#__PURE__*/_jsxDEV(FiSquare, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 19\n              }, this), \"Stop\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 15\n          }, this), processing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden dark:bg-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-600 h-2.5 transition-all duration-300 dark:bg-blue-400\",\n              style: {\n                width: `${progress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: \"Activity Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-60 overflow-y-auto p-3 rounded ${theme === 'dark' ? 'bg-black' : 'bg-gray-200'}`,\n              children: log.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-center ${theme === 'dark' ? 'text-gray-500' : 'text-gray-600'}`,\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-sm space-y-1\",\n                children: [log.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: getLogColor(entry.type),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70 mr-2\",\n                    children: [\"[\", entry.timestamp, \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 27\n                  }, this), entry.message]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: logEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 844,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 13\n        }, this), activeTab === 'export' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Export Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportUsersToCSV,\n              disabled: processing,\n              className: `px-4 py-2 rounded-lg flex items-center ${processing ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-500'} text-white transition`,\n              children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 19\n              }, this), \"Fetch Users from DHIS2\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 15\n          }, this), exportedUsers.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-3\",\n                children: \"Filter & Export\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block mb-1\",\n                    children: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 877,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"Filter by username\",\n                    value: usernameFilter,\n                    onChange: e => setUsernameFilter(e.target.value),\n                    className: `w-full p-2 rounded border ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 878,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 876,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block mb-1\",\n                    children: \"Organization Unit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"Filter by org unit path\",\n                    value: orgUnitFilter,\n                    onChange: e => setOrgUnitFilter(e.target.value),\n                    className: `w-full p-2 rounded border ${theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 890,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2\",\n                  children: \"Columns to Export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 903,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-2\",\n                  children: availableColumns.map(col => /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"flex items-center space-x-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: selectedColumns.includes(col.id),\n                      onChange: () => toggleColumn(col.id),\n                      className: \"rounded\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 907,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: col.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 913,\n                      columnNumber: 29\n                    }, this)]\n                  }, col.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 904,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => exportFilteredUsers('csv'),\n                  className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-green-700 hover:bg-green-600' : 'bg-green-600 hover:bg-green-500'} text-white transition`,\n                  children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 926,\n                    columnNumber: 25\n                  }, this), \"Export as CSV\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => exportFilteredUsers('json'),\n                  className: `px-4 py-2 rounded-lg flex items-center ${theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-600 hover:bg-yellow-500'} text-white transition`,\n                  children: [/*#__PURE__*/_jsxDEV(FiDownload, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 935,\n                    columnNumber: 25\n                  }, this), \"Export as JSON\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 929,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium mb-3\",\n                children: [\"User Data (\", filteredUsers.length, \" users)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"min-w-full border-collapse\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: `${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-200'}`,\n                      children: [selectedColumns.includes('id') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 947,\n                        columnNumber: 64\n                      }, this), selectedColumns.includes('name') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 948,\n                        columnNumber: 66\n                      }, this), selectedColumns.includes('username') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"Username\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 949,\n                        columnNumber: 70\n                      }, this), selectedColumns.includes('userGroups') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"Groups\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 950,\n                        columnNumber: 72\n                      }, this), selectedColumns.includes('userRoles') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"Roles\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 951,\n                        columnNumber: 71\n                      }, this), selectedColumns.includes('lastLogin') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"Last Login\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 952,\n                        columnNumber: 71\n                      }, this), selectedColumns.includes('schoolPath') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"School Path\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 953,\n                        columnNumber: 72\n                      }, this), selectedColumns.includes('schoolUID') && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"p-2 border text-left\",\n                        children: \"School UID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 954,\n                        columnNumber: 71\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 946,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 945,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: currentUsers.map((user, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: `${idx % 2 === 0 ? theme === 'dark' ? 'bg-gray-700' : 'bg-white' : theme === 'dark' ? 'bg-gray-800' : 'bg-gray-50'}`,\n                      children: [selectedColumns.includes('id') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 971,\n                        columnNumber: 66\n                      }, this), selectedColumns.includes('name') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 972,\n                        columnNumber: 68\n                      }, this), selectedColumns.includes('username') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 973,\n                        columnNumber: 72\n                      }, this), selectedColumns.includes('userGroups') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.userGroups\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 974,\n                        columnNumber: 74\n                      }, this), selectedColumns.includes('userRoles') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.userRoles\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 975,\n                        columnNumber: 73\n                      }, this), selectedColumns.includes('lastLogin') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.lastLogin\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 976,\n                        columnNumber: 73\n                      }, this), selectedColumns.includes('schoolPath') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.schoolPath\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 977,\n                        columnNumber: 74\n                      }, this), selectedColumns.includes('schoolUID') && /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"p-2 border text-xs\",\n                        children: user.schoolUID\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 978,\n                        columnNumber: 73\n                      }, this)]\n                    }, idx, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 959,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 957,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 944,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 21\n              }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handlePrevPage,\n                  disabled: currentPage === 1,\n                  className: `px-4 py-2 rounded ${currentPage === 1 ? 'opacity-50 cursor-not-allowed' : theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'} transition`,\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 987,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Page \", currentPage, \" of \", totalPages]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1000,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleNextPage,\n                  disabled: currentPage === totalPages,\n                  className: `px-4 py-2 rounded ${currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'} transition`,\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: \"Activity Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-60 overflow-y-auto p-3 rounded ${theme === 'dark' ? 'bg-black' : 'bg-gray-200'}`,\n              children: log.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-center ${theme === 'dark' ? 'text-gray-500' : 'text-gray-600'}`,\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1029,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-sm space-y-1\",\n                children: [log.map((entry, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: getLogColor(entry.type),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70 mr-2\",\n                    children: [\"[\", entry.timestamp, \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1038,\n                    columnNumber: 27\n                  }, this), entry.message]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1037,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: logEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1042,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1023,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 617,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"86/CIpI4IxbJBiyfXmiPQkvQtKE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","FiUpload","FiDownload","FiPlay","FiSquare","FiSun","FiMoon","FiHelpCircle","FiUsers","jsxDEV","_jsxDEV","Fragment","_Fragment","defaults","timeout","maxContentLength","maxBodyLength","BASE_URL","HEADERS","SAMPLE_USERS","App","_s","users","setUsers","log","setLog","processing","setProcessing","progress","setProgress","exportedUsers","setExportedUsers","usernameFilter","setUsernameFilter","orgUnitFilter","setOrgUnitFilter","theme","setTheme","currentPage","setCurrentPage","activeTab","setActiveTab","batchSize","setBatchSize","connectionStatus","setConnectionStatus","selectedColumns","setSelectedColumns","shouldStop","logEndRef","usersPerPage","availableColumns","id","label","appendLog","message","type","timestamp","Date","toLocaleTimeString","prevLog","apiRequest","config","attempt","maxRetries","baseDelay","response","headers","error","retryDelay","Math","pow","Promise","resolve","setTimeout","checkConnection","method","url","interval","setInterval","clearInterval","_logEndRef$current","current","scrollIntoView","behavior","handleFileUpload","e","file","target","files","reader","FileReader","onloadstart","onload","event","name","endsWith","csvData","result","lines","split","filter","line","trim","length","Error","map","h","i","values","v","replace","user","forEach","header","idx","includes","safeJsonParse","push","data","JSON","parse","Array","isArray","onerror","readAsText","str","startsWith","slice","item","downloadSampleJson","blob","Blob","stringify","link","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","convertCSVtoJSON","firstName","surname","username","password","userRoles","organisationUnits","dataViewOrganisationUnits","teiSearchOrganisationUnits","userGroups","downloadSampleCSV","join","sampleRow","field","csvContent","getUserId","_res$data$users","_res$data$users$","res","updateUser","payload","role","ou","group","console","_error$response","_error$response$data","createUser","_error$response2","status","processBatch","batch","results","processUsers","successCount","errorCount","totalBatches","ceil","floor","batchResults","Boolean","x","round","stopProcessing","exportUsersToCSV","seenIds","Set","usersList","nextUrl","pager","_user$userGroups","_user$userRoles","uid","has","add","g","r","lastLogin","schoolPaths","schoolUIDs","_ou$ancestors","ancestors","path","a","schoolPath","schoolUID","page","size","nextPage","exportFilteredUsers","format","filtered","u","toLowerCase","content","mimeType","extension","col","rows","value","setAttribute","toISOString","toUpperCase","toggleTheme","filteredUsers","indexOfLastUser","indexOfFirstUser","currentUsers","totalPages","handleNextPage","handlePrevPage","toggleColumn","columnId","prev","getLogColor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","accept","onChange","disabled","jsonData","title","Number","style","width","entry","ref","placeholder","checked","_c","$RefreshReg$"],"sources":["C:/Users/nongu/Documents/Projects/dhis2-user-manager/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { FiUpload, FiDownload, FiPlay, FiSquare, FiSun, FiMoon, FiHelpCircle, FiUsers } from 'react-icons/fi';\n\n// Configure axios defaults\naxios.defaults.timeout = 30000; // 30 second timeout\naxios.defaults.maxContentLength = 50 * 1024 * 1024; // 50MB\naxios.defaults.maxBodyLength = 50 * 1024 * 1024; // 50MB\n\nconst BASE_URL = \"https://emis.dhis2nigeria.org.ng/dhis/api\";\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Authorization': 'ApiToken d2pat_DAULytLK7GUBSlfknZ6ffVxIfifC8T9c3885349470'\n};\n\n// Sample user data for download\nconst SAMPLE_USERS = [\n  {\n    \"firstName\": \"PVT\",\n    \"surname\": \"Royal\",\n    \"username\": 12020407,\n    \"password\": \"Egor123@\",\n    \"userRoles\": [\n      {\n        \"id\": \"KBkjSGFKSKI\"\n      },\n      {\n        \"id\": \"oO6BBApzmHZ\"\n      }\n    ],\n    \"organisationUnits\": [\n      {\n        \"id\": \"wRQIw3NMW29\"\n      }\n    ],\n    \"dataViewOrganisationUnits\": [\n      {\n        \"id\": \"wRQIw3NMW29\"\n      }\n    ],\n    \"teiSearchOrganisationUnits\": [\n      {\n        \"id\": \"wRQIw3NMW29\"\n      }\n    ],\n    \"userGroups\": [\n      {\n        \"id\": \"U8WuGyxfFFp\"\n      }\n    ]\n  },\n  {\n    \"firstName\": \"PVT\",\n    \"surname\": \"Dominion\",\n    \"username\": 12020409,\n    \"password\": \"Egor123@\",\n    \"userRoles\": [\n      {\n        \"id\": \"KBkjSGFKSKI\"\n      },\n      {\n        \"id\": \"oO6BBApzmHZ\"\n      }\n    ],\n    \"organisationUnits\": [\n      {\n        \"id\": \"AVEyJypVCjJ\"\n      }\n    ],\n    \"dataViewOrganisationUnits\": [\n      {\n        \"id\": \"AVEyJypVCjJ\"\n      }\n    ],\n    \"teiSearchOrganisationUnits\": [\n      {\n        \"id\": \"AVEyJypVCjJ\"\n      }\n    ],\n    \"userGroups\": [\n      {\n        \"id\": \"U8WuGyxfFFp\"\n      }\n    ]\n  }\n];\n\nfunction App() {\n  // State declarations\n  const [users, setUsers] = useState([]);\n  const [log, setLog] = useState([]);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [exportedUsers, setExportedUsers] = useState([]);\n  const [usernameFilter, setUsernameFilter] = useState('');\n  const [orgUnitFilter, setOrgUnitFilter] = useState('');\n  const [theme, setTheme] = useState('dark');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeTab, setActiveTab] = useState('import');\n  const [batchSize, setBatchSize] = useState(2);\n  const [connectionStatus, setConnectionStatus] = useState('checking...');\n  const [selectedColumns, setSelectedColumns] = useState([\n    'id', 'name', 'username', 'userGroups', 'userRoles', 'lastLogin', 'schoolPath'\n  ]);\n\n  const shouldStop = useRef(false);\n  const logEndRef = useRef(null);\n\n  const usersPerPage = 100;\n  const availableColumns = [\n    { id: 'id', label: 'ID' },\n    { id: 'name', label: 'Name' },\n    { id: 'username', label: 'Username' },\n    { id: 'userGroups', label: 'Groups' },\n    { id: 'userRoles', label: 'Roles' },\n    { id: 'lastLogin', label: 'Last Login' },\n    { id: 'schoolPath', label: 'School Path' },\n    { id: 'schoolUID', label: 'School UID' }\n  ];\n\n  // Define appendLog first\n  const appendLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLog(prevLog => [...prevLog, { message, type, timestamp }]);\n  };\n\n  // Enhanced API request with retries\n  const apiRequest = async (config, attempt = 1) => {\n    const maxRetries = 3;\n    const baseDelay = 1000;\n    \n    try {\n      const response = await axios({\n        ...config,\n        timeout: 30000,\n        headers: { ...HEADERS, ...config.headers }\n      });\n      return response;\n    } catch (error) {\n      if (attempt >= maxRetries) throw error;\n      \n      const retryDelay = baseDelay * Math.pow(2, attempt - 1);\n      appendLog(`⚠️ Attempt ${attempt} failed, retrying in ${retryDelay/1000}s...`, 'warning');\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n      return apiRequest(config, attempt + 1);\n    }\n  };\n\n  // Connection monitoring\n  useEffect(() => {\n    const checkConnection = async () => {\n      try {\n        await apiRequest({ method: 'get', url: `${BASE_URL}/system/ping` });\n        setConnectionStatus('connected');\n      } catch {\n        setConnectionStatus('disconnected');\n      }\n    };\n    \n    checkConnection();\n    const interval = setInterval(checkConnection, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Auto-scroll log to bottom\n  useEffect(() => {\n    logEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [log]);\n\n  // File upload handler\n  const handleFileUpload = (e) => {\n  const file = e.target.files[0];\n  if (!file) return;\n\n  const reader = new FileReader();\n  reader.onloadstart = () => appendLog('⏳ Loading user file...', 'info');\n  reader.onload = event => {\n    try {\n      if (file.name.endsWith('.csv')) {\n        // Parse CSV file\n        const csvData = event.target.result;\n        const lines = csvData.split('\\n').filter(line => line.trim());\n        if (lines.length < 2) throw new Error('CSV file must contain at least one data row');\n        \n        const headers = lines[0].split(',').map(h => h.trim());\n        const users = [];\n        \n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n          const values = line.split(',').map(v => v.trim().replace(/^\"|\"$/g, ''));\n          const user = {};\n          \n          headers.forEach((header, idx) => {\n            if (values[idx]) {\n              try {\n                // Try to parse array fields as JSON, fallback to raw value\n                user[header] = header.includes('Roles') || header.includes('Units') || header.includes('Groups') \n                  ? safeJsonParse(values[idx]) \n                  : values[idx];\n              } catch (error) {\n                user[header] = values[idx];\n              }\n            }\n          });\n          \n          users.push(user);\n        }\n        \n        setUsers(users);\n        appendLog(`✅ Loaded ${users.length} users from CSV`, 'success');\n      } else {\n        // Parse JSON file\n        const data = JSON.parse(event.target.result);\n        if (!Array.isArray(data)) throw new Error('File should contain an array of users');\n        setUsers(data);\n        appendLog(`✅ Loaded ${data.length} users from JSON`, 'success');\n      }\n    } catch (error) {\n      appendLog(`❌ Error parsing file: ${error.message}`, 'error');\n    }\n  };\n  reader.onerror = () => appendLog('❌ Failed to read file', 'error');\n  reader.readAsText(file);\n};\n\n// Helper function for safe JSON parsing\nconst safeJsonParse = (str) => {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    // If parsing fails, try to handle common CSV array formats\n    if (str.startsWith('[') && str.endsWith(']')) {\n      return str.slice(1, -1).split(';').map(item => ({ id: item.trim() }));\n    }\n    return str; // Return as-is if we can't parse\n  }\n};\n\n  // Sample JSON download\n  const downloadSampleJson = () => {\n    try {\n      const blob = new Blob([JSON.stringify(SAMPLE_USERS, null, 2)], { type: 'application/json' });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'dhis2_users_sample.json';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog('✅ Downloaded sample JSON file', 'success');\n    } catch (error) {\n      appendLog(`❌ Error downloading sample: ${error.message}`, 'error');\n    }\n  };\n  // Convert CSV to JSON function\n const convertCSVtoJSON = (csvData) => {\n  try {\n    const lines = csvData.split('\\n').filter(line => line.trim());\n    if (lines.length < 2) throw new Error('CSV file must contain at least one data row');\n    \n    const headers = lines[0].split('\\t').map(h => h.trim());\n    const users = [];\n    \n    for (let i = 1; i < lines.length; i++) {\n      const line = lines[i];\n      const values = line.split('\\t').map(v => v.trim().replace(/^\"|\"$/g, ''));\n      const user = {};\n      \n      headers.forEach((header, idx) => {\n        if (values[idx]) {\n          // Special handling for JSON array fields\n          if (header.includes('Roles') || header.includes('Units') || header.includes('Groups')) {\n            try {\n              user[header] = JSON.parse(values[idx].replace(/'/g, '\"'));\n            } catch (e) {\n              // Fallback for malformed JSON\n              user[header] = values[idx].startsWith('[') \n                ? values[idx].slice(1, -1).split(';').map(id => ({ id: id.trim() }))\n                : [{ id: values[idx] }];\n            }\n          } else {\n            user[header] = values[idx];\n          }\n        }\n      });\n      \n      users.push({\n        firstName: user.firstName,\n        surname: user.surname,\n        username: user.username,\n        password: user.password,\n        userRoles: user.userRoles || [],\n        organisationUnits: user.organisationUnits || [],\n        dataViewOrganisationUnits: user.dataViewOrganisationUnits || [],\n        teiSearchOrganisationUnits: user.teiSearchOrganisationUnits || [],\n        userGroups: user.userGroups || []\n      });\n    }\n    \n    return users;\n  } catch (error) {\n    appendLog(`❌ CSV to JSON conversion failed: ${error.message}`, 'error');\n    return null;\n  }\n};\n\n  // Sample CSV template download\n  const downloadSampleCSV = () => {\n    try {\n      // CSV header row\n      const headers = [\n        'firstName',\n        'surname',\n        'username',\n        'password',\n        'userRoles',\n        'organisationUnits',\n        'dataViewOrganisationUnits',\n        'teiSearchOrganisationUnits',\n        'userGroups'\n      ].join(',');\n\n      // Sample data rows (empty except for one example row)\n      const sampleRow = [\n        'JSS', // firstName\n        'Com', // surname\n        '11010051', // username\n        'Abakaliki123@', // password\n        '[{\"id\": \"KBkjSGFKSKI\"},{\"id\": \"oO6BBApzmHZ\"}]', // userRoles\n        '[{\"id\": \"wMcSLrAHchs\"}]', // organisationUnits\n        '[{\"id\": \"wMcSLrAHchs\"}]', // dataViewOrganisationUnits\n        '[{\"id\": \"wMcSLrAHchs\"}]', // teiSearchOrganisationUnits\n        '[{\"id\": \"Ca67o1mgiPn\"}]' // userGroups\n      ].map(field => `\"${field}\"`).join(',');\n\n      // Combine header and sample row\n      const csvContent = [headers, sampleRow].join('\\n');\n\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'dhis2_users_template.csv';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      appendLog('✅ Downloaded sample CSV template', 'success');\n    } catch (error) {\n      appendLog(`❌ Error downloading CSV template: ${error.message}`, 'error');\n    }\n  };\n\n  // User management functions\n  const getUserId = async (username) => {\n    try {\n      const res = await apiRequest({\n        method: 'get',\n        url: `${BASE_URL}/users?filter=username:eq:${username}&fields=id`\n      });\n      return res.data.users?.[0]?.id || null;\n    } catch (error) {\n      appendLog(`⚠️ Error fetching user ID for ${username}: ${error.message}`, 'warning');\n      return null;\n    }\n  };\n\n  const updateUser = async (user, id) => {\n  try {\n    // Create clean copy without password\n    const payload = {\n      firstName: user.firstName,\n      surname: user.surname,\n      username: user.username,\n      userRoles: user.userRoles.map(role => ({ id: role.id })),\n      organisationUnits: user.organisationUnits.map(ou => ({ id: ou.id })),\n      dataViewOrganisationUnits: user.dataViewOrganisationUnits.map(ou => ({ id: ou.id })),\n      teiSearchOrganisationUnits: user.teiSearchOrganisationUnits.map(ou => ({ id: ou.id })),\n      userGroups: user.userGroups.map(group => ({ id: group.id }))\n    };\n\n    // Debug log - remove after testing\n    console.log('Update Payload:', JSON.stringify(payload, null, 2));\n\n    const response = await apiRequest({\n      method: 'put',\n      url: `${BASE_URL}/users/${id}`,\n      data: payload\n    });\n    \n    appendLog(`🔄 Updated user: ${user.username}`, 'success');\n    return true;\n  } catch (error) {\n    appendLog(`❌ Error updating user ${user.username}: ${error.response?.data?.message || error.message}`, 'error');\n    return false;\n  }\n};\n\n  const createUser = async (user) => {\n    try {\n      await apiRequest({\n        method: 'post',\n        url: `${BASE_URL}/users`,\n        data: user\n      });\n      appendLog(`🆕 Created user: ${user.username}`, 'success');\n      return true;\n    } catch (error) {\n      if (error.response?.status === 409) {\n        const id = await getUserId(user.username);\n        if (id) {\n          appendLog(`⚠️ Conflict: Updating user ${user.username}`, 'warning');\n          return await updateUser(user, id);\n        } else {\n          appendLog(`❌ Conflict and ID not found: ${user.username}`, 'error');\n          return false;\n        }\n      }\n      appendLog(`❌ Error for ${user.username}: ${error.message}`, 'error');\n      return false;\n    }\n  };\n\n  // Processing functions\n  const processBatch = async (batch) => {\n    const results = [];\n    for (const user of batch) {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 500));\n        const id = await getUserId(user.username);\n        const result = id ? await updateUser(user, id) : await createUser(user);\n        results.push(result);\n      } catch (error) {\n        appendLog(`❌ Failed to process ${user.username}: ${error.message}`, 'error');\n        results.push(false);\n      }\n    }\n    return results;\n  };\n\n  const processUsers = async () => {\n    setProcessing(true);\n    shouldStop.current = false;\n    setProgress(0);\n    \n    let successCount = 0;\n    let errorCount = 0;\n    const totalBatches = Math.ceil(users.length / batchSize);\n\n    appendLog(`🚀 Starting import of ${users.length} users (${totalBatches} batches)`, 'info');\n    \n    for (let i = 0; i < users.length && !shouldStop.current; i += batchSize) {\n      const batch = users.slice(i, i + batchSize);\n      appendLog(`🔨 Processing batch ${Math.floor(i/batchSize) + 1}/${totalBatches}`, 'info');\n      \n      const batchResults = await processBatch(batch);\n      successCount += batchResults.filter(Boolean).length;\n      errorCount += batchResults.filter(x => !x).length;\n      \n      setProgress(Math.round(((i + batchSize) / users.length) * 100));\n      \n      if (shouldStop.current) break;\n    }\n    \n    appendLog(\n      `🎉 Process ${shouldStop.current ? 'stopped' : 'completed'}. Success: ${successCount}, Errors: ${errorCount}`,\n      errorCount > 0 ? 'warning' : 'success'\n    );\n    \n    setProcessing(false);\n  };\n\n  const stopProcessing = () => {\n    shouldStop.current = true;\n    appendLog(\"⏹ Stopping process after current batch completes...\", 'warning');\n  };\n\n  // Export functions\n  const exportUsersToCSV = async () => {\n    appendLog(\"📦 Starting DHIS2 user export...\", 'info');\n    setProcessing(true);\n\n    try {\n      let seenIds = new Set();\n      let usersList = [];\n      let nextUrl = `${BASE_URL}/users.json?fields=id,name,username,userGroups[name],userRoles[name],lastLogin,organisationUnits[ancestors[name],name,id]&paging=true&pageSize=1000`;\n\n      while (nextUrl) {\n        const response = await apiRequest({ method: 'get', url: nextUrl });\n        if (response.status !== 200) break;\n\n        const data = response.data;\n        const users = data.users || [];\n        const pager = data.pager || {};\n\n        for (const user of users) {\n          const uid = user.id;\n          if (!uid || seenIds.has(uid)) continue;\n          seenIds.add(uid);\n\n          const userGroups = user.userGroups?.map(g => g.name).join(\"; \") || \"\";\n          const userRoles = user.userRoles?.map(r => r.name).join(\"; \") || \"\";\n          const lastLogin = user.lastLogin || \"\";\n\n          let schoolPaths = [];\n          let schoolUIDs = [];\n\n          (user.organisationUnits || []).forEach(ou => {\n            if (ou.ancestors?.length === 4) {\n              const path = [...ou.ancestors.map(a => a.name), ou.name].join(\" > \");\n              schoolPaths.push(path);\n              schoolUIDs.push(ou.id || \"\");\n            }\n          });\n\n          usersList.push({\n            id: uid,\n            name: user.name || '',\n            username: user.username || '',\n            userGroups,\n            userRoles,\n            lastLogin,\n            schoolPath: schoolPaths.join(\" | \"),\n            schoolUID: schoolUIDs.join(\" | \")\n          });\n        }\n\n        appendLog(`✅ Page ${pager.page} fetched. Total: ${seenIds.size}`, 'success');\n        nextUrl = pager.nextPage || null;\n      }\n\n      setExportedUsers(usersList);\n      appendLog(`🎉 Export complete. Total users: ${seenIds.size}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Export failed: ${error.message}`, 'error');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const exportFilteredUsers = (format = 'csv') => {\n    const filtered = exportedUsers.filter(u =>\n      u.username.toLowerCase().includes(usernameFilter.toLowerCase()) &&\n      u.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase())\n    );\n\n    if (filtered.length === 0) {\n      appendLog('⚠️ No users match your filters', 'warning');\n      return;\n    }\n\n    try {\n      let content, mimeType, extension;\n      \n      if (format === 'csv') {\n        const headers = availableColumns\n          .filter(col => selectedColumns.includes(col.id))\n          .map(col => col.label);\n        \n        const rows = filtered.map(user => \n          selectedColumns.map(col => {\n            const value = user[col] || '';\n            return value.includes(',') ? `\"${value}\"` : value;\n          }).join(',')\n        );\n        \n        content = [headers.join(','), ...rows].join('\\n');\n        mimeType = 'text/csv;charset=utf-8;';\n        extension = 'csv';\n      } else {\n        content = JSON.stringify(filtered, null, 2);\n        mimeType = 'application/json';\n        extension = 'json';\n      }\n\n      const blob = new Blob([content], { type: mimeType });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.setAttribute('download', `dhis2_users_${new Date().toISOString().slice(0,10)}.${extension}`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      appendLog(`✅ Exported ${filtered.length} users as ${format.toUpperCase()}`, 'success');\n    } catch (error) {\n      appendLog(`❌ Export error: ${error.message}`, 'error');\n    }\n  };\n\n  // UI helpers\n  const toggleTheme = () => setTheme(theme === 'light' ? 'dark' : 'light');\n  const filteredUsers = exportedUsers.filter(user =>\n    user.username.toLowerCase().includes(usernameFilter.toLowerCase()) &&\n    user.schoolPath.toLowerCase().includes(orgUnitFilter.toLowerCase())\n  );\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n\n  const handleNextPage = () => currentPage < totalPages && setCurrentPage(currentPage + 1);\n  const handlePrevPage = () => currentPage > 1 && setCurrentPage(currentPage - 1);\n\n  const toggleColumn = (columnId) => {\n    setSelectedColumns(prev => \n      prev.includes(columnId) ? prev.filter(id => id !== columnId) : [...prev, columnId]\n    );\n  };\n\n  const getLogColor = (type) => {\n    switch (type) {\n      case 'error': return 'text-red-400';\n      case 'warning': return 'text-yellow-400';\n      case 'success': return 'text-green-400';\n      default: return 'text-gray-300';\n    }\n  };\n\n  return (\n    <div className={`min-h-screen p-4 ${theme === 'dark' ? 'dark bg-gray-900' : 'bg-gray-50'}`}>\n      <div className=\"max-w-7xl mx-auto rounded-2xl shadow-lg overflow-hidden\">\n        {/* Header */}\n        <div className={`p-6 ${theme === 'dark' ? 'bg-gray-800' : 'bg-blue-600'} text-white`}>\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3\">\n              <FiUsers className=\"text-2xl\" />\n              <h1 className=\"text-2xl font-bold\">DHIS2 User Manager</h1>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button \n                onClick={toggleTheme} \n                className=\"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\"\n              >\n                {theme === 'light' ? <FiMoon /> : <FiSun />}\n                <span>{theme === 'light' ? 'Dark' : 'Light'} Mode</span>\n              </button>\n              <button className=\"flex items-center space-x-1 bg-black bg-opacity-20 px-3 py-1 rounded hover:bg-opacity-30 transition\">\n                <FiHelpCircle />\n                <span>Help</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className={`p-6 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}`}>\n          {/* Connection Status */}\n          <div className=\"mb-4 p-2 rounded-md bg-blue-50 border border-blue-200 dark:bg-gray-800 dark:border-gray-700\">\n            <div className=\"flex items-center\">\n              <span className=\"font-medium mr-2\">Server Status:</span>\n              <span className={`inline-block w-3 h-3 rounded-full mr-2 ${\n                connectionStatus === 'connected' ? 'bg-green-500' : 'bg-red-500'\n              }`}></span>\n              <span>{connectionStatus}</span>\n            </div>\n            {connectionStatus === 'disconnected' && (\n              <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                Connection issues detected. Some operations may fail.\n              </p>\n            )}\n          </div>\n\n          {/* Tabs */}\n          <div className=\"flex border-b mb-6\">\n            <button\n              className={`px-4 py-2 font-medium flex items-center ${\n                activeTab === 'import' \n                  ? theme === 'dark' \n                    ? 'text-blue-300 border-b-2 border-blue-300' \n                    : 'text-blue-600 border-b-2 border-blue-600' \n                  : theme === 'dark' \n                    ? 'text-gray-400' \n                    : 'text-gray-600'\n              }`}\n              onClick={() => setActiveTab('import')}\n            >\n              <FiUpload className=\"mr-2\" />\n              Import Users\n            </button>\n            <button\n              className={`px-4 py-2 font-medium flex items-center ${\n                activeTab === 'export' \n                  ? theme === 'dark' \n                    ? 'text-blue-300 border-b-2 border-blue-300' \n                    : 'text-blue-600 border-b-2 border-blue-600' \n                  : theme === 'dark' \n                    ? 'text-gray-400' \n                    : 'text-gray-600'\n              }`}\n              onClick={() => setActiveTab('export')}\n            >\n              <FiDownload className=\"mr-2\" />\n              Export Users\n            </button>\n          </div>\n\n          {/* Import Tab */}\n          {activeTab === 'import' && (\n            <div className=\"space-y-6\">\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h2 className=\"text-lg font-semibold mb-3\">Import Users</h2>\n                <div className=\"flex flex-wrap gap-4\">\n                  <div className=\"flex-1 min-w-[300px]\">\n                    <label className=\"block mb-2 font-medium\">Upload File</label>\n                    <div className=\"flex items-center space-x-2\">\n                      <label className={`flex-1 border rounded-lg p-2 cursor-pointer flex items-center ${\n                        theme === 'dark' ? 'border-gray-600 bg-gray-900 hover:bg-gray-800' : 'border-gray-300 bg-white hover:bg-gray-50'\n                      } transition`}>\n                        <FiUpload className=\"mr-2\" />\n                        <span>Choose File</span>\n                        <input \n                          type=\"file\" \n                          accept=\".json,.csv\" \n                          onChange={handleFileUpload} \n                          disabled={processing}\n                          className=\"hidden\" \n                        />\n                      </label>\n                      {/* Add this near your file upload section */}\n                      <button \n                        onClick={() => {\n                          if (users.length > 0) {\n                            const jsonData = JSON.stringify(users, null, 2);\n                            const blob = new Blob([jsonData], { type: 'application/json' });\n                            const url = URL.createObjectURL(blob);\n                            const a = document.createElement('a');\n                            a.href = url;\n                            a.download = 'converted_users.json';\n                            document.body.appendChild(a);\n                            a.click();\n                            document.body.removeChild(a);\n                            appendLog(`✅ Converted ${users.length} users to JSON`, 'success');\n                          } else {\n                            appendLog('⚠️ No users loaded to convert', 'warning');\n                          }\n                        }}\n                        className={`px-4 py-2 rounded-lg flex items-center ${\n                          theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'\n                        } text-white transition`}\n                      >\n                        <FiDownload className=\"mr-2\" />\n                        Convert to JSON\n                      </button>\n                      <div className=\"flex space-x-2\">\n                        <button \n                          onClick={downloadSampleJson}\n                          className={`px-4 py-2 rounded-lg flex items-center ${\n                            theme === 'dark' ? 'bg-purple-700 hover:bg-purple-600' : 'bg-purple-600 hover:bg-purple-500'\n                          } text-white transition`}\n                          title=\"Download JSON sample\"\n                        >\n                          <FiDownload className=\"mr-2\" />\n                          JSON\n                        </button>\n                        <button \n                          onClick={downloadSampleCSV}\n                          className={`px-4 py-2 rounded-lg flex items-center ${\n                            theme === 'dark' ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-600 hover:bg-blue-500'\n                          } text-white transition`}\n                          title=\"Download CSV template\"\n                        >\n                          <FiDownload className=\"mr-2\" />\n                          CSV\n                        </button>\n                      </div>\n                    </div>\n                    {users.length > 0 && (\n                      <p className=\"mt-2 text-sm text-green-500\">\n                        ✅ {users.length} users loaded\n                      </p>\n                    )}\n                  </div>\n\n                  <div className=\"flex-1 min-w-[300px]\">\n                    <label className=\"block mb-2 font-medium\">Batch Settings</label>\n                    <select\n                      value={batchSize}\n                      onChange={(e) => setBatchSize(Number(e.target.value))}\n                      className={`w-full border rounded-lg p-2 ${\n                        theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                      }`}\n                    >\n                      {[1, 2, 5, 10].map(size => (\n                        <option key={size} value={size}>{size} users/batch</option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-4\">\n                <button \n                  onClick={processUsers} \n                  disabled={processing || users.length === 0 || connectionStatus !== 'connected'}\n                  className={`px-4 py-2 rounded-lg flex items-center ${\n                    processing || users.length === 0 || connectionStatus !== 'connected'\n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-green-600 hover:bg-green-500'\n                  } text-white transition`}\n                >\n                  <FiPlay className=\"mr-2\" />\n                  Start Import\n                </button>\n                <button \n                  onClick={stopProcessing} \n                  disabled={!processing}\n                  className={`px-4 py-2 rounded-lg flex items-center ${\n                    !processing \n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-red-600 hover:bg-red-500'\n                  } text-white transition`}\n                >\n                  <FiSquare className=\"mr-2\" />\n                  Stop\n                </button>\n              </div>\n\n              {processing && (\n                <div className=\"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden dark:bg-gray-700\">\n                  <div \n                    className=\"bg-blue-600 h-2.5 transition-all duration-300 dark:bg-blue-400\" \n                    style={{ width: `${progress}%` }} \n                  />\n                </div>\n              )}\n\n              {/* Activity Log */}\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h3 className=\"font-medium mb-2\">Activity Log</h3>\n                <div className={`h-60 overflow-y-auto p-3 rounded ${\n                  theme === 'dark' ? 'bg-black' : 'bg-gray-200'\n                }`}>\n                  {log.length === 0 ? (\n                    <p className={`text-center ${\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-600'\n                    }`}>\n                      No activity yet\n                    </p>\n                  ) : (\n                    <div className=\"font-mono text-sm space-y-1\">\n                      {log.map((entry, i) => (\n                        <div key={i} className={getLogColor(entry.type)}>\n                          <span className=\"opacity-70 mr-2\">[{entry.timestamp}]</span>\n                          {entry.message}\n                        </div>\n                      ))}\n                      <div ref={logEndRef} />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Export Tab */}\n          {activeTab === 'export' && (\n            <div className=\"space-y-6\">\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h2 className=\"text-lg font-semibold mb-3\">Export Users</h2>\n                <button \n                  onClick={exportUsersToCSV} \n                  disabled={processing}\n                  className={`px-4 py-2 rounded-lg flex items-center ${\n                    processing \n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-blue-600 hover:bg-blue-500'\n                  } text-white transition`}\n                >\n                  <FiDownload className=\"mr-2\" />\n                  Fetch Users from DHIS2\n                </button>\n              </div>\n\n              {exportedUsers.length > 0 && (\n                <>\n                  <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                    <h3 className=\"font-medium mb-3\">Filter & Export</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                      <div>\n                        <label className=\"block mb-1\">Username</label>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Filter by username\"\n                          value={usernameFilter}\n                          onChange={(e) => setUsernameFilter(e.target.value)}\n                          className={`w-full p-2 rounded border ${\n                            theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                          }`}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block mb-1\">Organization Unit</label>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Filter by org unit path\"\n                          value={orgUnitFilter}\n                          onChange={(e) => setOrgUnitFilter(e.target.value)}\n                          className={`w-full p-2 rounded border ${\n                            theme === 'dark' ? 'bg-gray-900 border-gray-600' : 'bg-white border-gray-300'\n                          }`}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"mb-4\">\n                      <label className=\"block mb-2\">Columns to Export</label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {availableColumns.map(col => (\n                          <label key={col.id} className=\"flex items-center space-x-1\">\n                            <input\n                              type=\"checkbox\"\n                              checked={selectedColumns.includes(col.id)}\n                              onChange={() => toggleColumn(col.id)}\n                              className=\"rounded\"\n                            />\n                            <span>{col.label}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-3\">\n                      <button \n                        onClick={() => exportFilteredUsers('csv')}\n                        className={`px-4 py-2 rounded-lg flex items-center ${\n                          theme === 'dark' ? 'bg-green-700 hover:bg-green-600' : 'bg-green-600 hover:bg-green-500'\n                        } text-white transition`}\n                      >\n                        <FiDownload className=\"mr-2\" />\n                        Export as CSV\n                      </button>\n                      <button \n                        onClick={() => exportFilteredUsers('json')}\n                        className={`px-4 py-2 rounded-lg flex items-center ${\n                          theme === 'dark' ? 'bg-yellow-700 hover:bg-yellow-600' : 'bg-yellow-600 hover:bg-yellow-500'\n                        } text-white transition`}\n                      >\n                        <FiDownload className=\"mr-2\" />\n                        Export as JSON\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                    <h3 className=\"font-medium mb-3\">User Data ({filteredUsers.length} users)</h3>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"min-w-full border-collapse\">\n                        <thead>\n                          <tr className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-200'}`}>\n                            {selectedColumns.includes('id') && <th className=\"p-2 border text-left\">ID</th>}\n                            {selectedColumns.includes('name') && <th className=\"p-2 border text-left\">Name</th>}\n                            {selectedColumns.includes('username') && <th className=\"p-2 border text-left\">Username</th>}\n                            {selectedColumns.includes('userGroups') && <th className=\"p-2 border text-left\">Groups</th>}\n                            {selectedColumns.includes('userRoles') && <th className=\"p-2 border text-left\">Roles</th>}\n                            {selectedColumns.includes('lastLogin') && <th className=\"p-2 border text-left\">Last Login</th>}\n                            {selectedColumns.includes('schoolPath') && <th className=\"p-2 border text-left\">School Path</th>}\n                            {selectedColumns.includes('schoolUID') && <th className=\"p-2 border text-left\">School UID</th>}\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {currentUsers.map((user, idx) => (\n                            <tr \n                              key={idx} \n                              className={`${\n                                idx % 2 === 0 \n                                  ? theme === 'dark' \n                                    ? 'bg-gray-700' \n                                    : 'bg-white' \n                                  : theme === 'dark' \n                                    ? 'bg-gray-800' \n                                    : 'bg-gray-50'\n                              }`}\n                            >\n                              {selectedColumns.includes('id') && <td className=\"p-2 border text-xs\">{user.id}</td>}\n                              {selectedColumns.includes('name') && <td className=\"p-2 border text-xs\">{user.name}</td>}\n                              {selectedColumns.includes('username') && <td className=\"p-2 border text-xs\">{user.username}</td>}\n                              {selectedColumns.includes('userGroups') && <td className=\"p-2 border text-xs\">{user.userGroups}</td>}\n                              {selectedColumns.includes('userRoles') && <td className=\"p-2 border text-xs\">{user.userRoles}</td>}\n                              {selectedColumns.includes('lastLogin') && <td className=\"p-2 border text-xs\">{user.lastLogin}</td>}\n                              {selectedColumns.includes('schoolPath') && <td className=\"p-2 border text-xs\">{user.schoolPath}</td>}\n                              {selectedColumns.includes('schoolUID') && <td className=\"p-2 border text-xs\">{user.schoolUID}</td>}\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n\n                    {totalPages > 1 && (\n                      <div className=\"mt-4 flex justify-between items-center\">\n                        <button \n                          onClick={handlePrevPage} \n                          disabled={currentPage === 1}\n                          className={`px-4 py-2 rounded ${\n                            currentPage === 1 \n                              ? 'opacity-50 cursor-not-allowed' \n                              : theme === 'dark' \n                                ? 'bg-gray-600 hover:bg-gray-500' \n                                : 'bg-gray-200 hover:bg-gray-300'\n                          } transition`}\n                        >\n                          Previous\n                        </button>\n                        <span>\n                          Page {currentPage} of {totalPages}\n                        </span>\n                        <button \n                          onClick={handleNextPage} \n                          disabled={currentPage === totalPages}\n                          className={`px-4 py-2 rounded ${\n                            currentPage === totalPages \n                              ? 'opacity-50 cursor-not-allowed' \n                              : theme === 'dark' \n                                ? 'bg-gray-600 hover:bg-gray-500' \n                                : 'bg-gray-200 hover:bg-gray-300'\n                          } transition`}\n                        >\n                          Next\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n\n              {/* Activity Log */}\n              <div className={`p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n                <h3 className=\"font-medium mb-2\">Activity Log</h3>\n                <div className={`h-60 overflow-y-auto p-3 rounded ${\n                  theme === 'dark' ? 'bg-black' : 'bg-gray-200'\n                }`}>\n                  {log.length === 0 ? (\n                    <p className={`text-center ${\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-600'\n                    }`}>\n                      No activity yet\n                    </p>\n                  ) : (\n                    <div className=\"font-mono text-sm space-y-1\">\n                      {log.map((entry, i) => (\n                        <div key={i} className={getLogColor(entry.type)}>\n                          <span className=\"opacity-70 mr-2\">[{entry.timestamp}]</span>\n                          {entry.message}\n                        </div>\n                      ))}\n                      <div ref={logEndRef} />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}